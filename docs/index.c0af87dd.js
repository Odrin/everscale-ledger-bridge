(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var W={},Xe={};Xe.byteLength=Wr;Xe.toByteArray=Kr;Xe.fromByteArray=Jr;var te=[],K=[],Vr=typeof Uint8Array<"u"?Uint8Array:Array,ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ve=0,Hr=ot.length;ve<Hr;++ve)te[ve]=ot[ve],K[ot.charCodeAt(ve)]=ve;K["-".charCodeAt(0)]=62;K["_".charCodeAt(0)]=63;function wr(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var s=t===e?0:4-t%4;return[t,s]}function Wr(r){var e=wr(r),t=e[0],s=e[1];return(t+s)*3/4-s}function zr(r,e,t){return(e+t)*3/4-t}function Kr(r){var e,t=wr(r),s=t[0],a=t[1],o=new Vr(zr(r,s,a)),l=0,c=a>0?s-4:s,p;for(p=0;p<c;p+=4)e=K[r.charCodeAt(p)]<<18|K[r.charCodeAt(p+1)]<<12|K[r.charCodeAt(p+2)]<<6|K[r.charCodeAt(p+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=e&255;return a===2&&(e=K[r.charCodeAt(p)]<<2|K[r.charCodeAt(p+1)]>>4,o[l++]=e&255),a===1&&(e=K[r.charCodeAt(p)]<<10|K[r.charCodeAt(p+1)]<<4|K[r.charCodeAt(p+2)]>>2,o[l++]=e>>8&255,o[l++]=e&255),o}function Yr(r){return te[r>>18&63]+te[r>>12&63]+te[r>>6&63]+te[r&63]}function Zr(r,e,t){for(var s,a=[],o=e;o<t;o+=3)s=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),a.push(Yr(s));return a.join("")}function Jr(r){for(var e,t=r.length,s=t%3,a=[],o=16383,l=0,c=t-s;l<c;l+=o)a.push(Zr(r,l,l+o>c?c:l+o));return s===1?(e=r[t-1],a.push(te[e>>2]+te[e<<4&63]+"==")):s===2&&(e=(r[t-2]<<8)+r[t-1],a.push(te[e>>10]+te[e>>4&63]+te[e<<2&63]+"=")),a.join("")}var Tt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Tt.read=function(r,e,t,s,a){var o,l,c=a*8-s-1,p=(1<<c)-1,E=p>>1,g=-7,v=t?a-1:0,T=t?-1:1,w=r[e+v];for(v+=T,o=w&(1<<-g)-1,w>>=-g,g+=c;g>0;o=o*256+r[e+v],v+=T,g-=8);for(l=o&(1<<-g)-1,o>>=-g,g+=s;g>0;l=l*256+r[e+v],v+=T,g-=8);if(o===0)o=1-E;else{if(o===p)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,s),o=o-E}return(w?-1:1)*l*Math.pow(2,o-s)};Tt.write=function(r,e,t,s,a,o){var l,c,p,E=o*8-a-1,g=(1<<E)-1,v=g>>1,T=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=s?0:o-1,k=s?1:-1,X=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=g):(l=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+v>=1?e+=T/p:e+=T*Math.pow(2,1-v),e*p>=2&&(l++,p/=2),l+v>=g?(c=0,l=g):l+v>=1?(c=(e*p-1)*Math.pow(2,a),l=l+v):(c=e*Math.pow(2,v-1)*Math.pow(2,a),l=0));a>=8;r[t+w]=c&255,w+=k,c/=256,a-=8);for(l=l<<a|c,E+=a;E>0;r[t+w]=l&255,w+=k,l/=256,E-=8);r[t+w-k]|=X*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Xe,t=Tt,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=Ze,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=o(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const u=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(u,n),u.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function l(u){if(u>a)throw new RangeError('The value "'+u+'" is invalid for option "size"');const n=new Uint8Array(u);return Object.setPrototypeOf(n,c.prototype),n}function c(u,n,i){if(typeof u=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(u)}return p(u,n,i)}c.poolSize=8192;function p(u,n,i){if(typeof u=="string")return T(u,n);if(ArrayBuffer.isView(u))return k(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(ee(u,ArrayBuffer)||u&&ee(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(u,SharedArrayBuffer)||u&&ee(u.buffer,SharedArrayBuffer)))return X(u,n,i);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const f=u.valueOf&&u.valueOf();if(f!=null&&f!==u)return c.from(f,n,i);const h=O(u);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return c.from(u[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}c.from=function(u,n,i){return p(u,n,i)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function E(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function g(u,n,i){return E(u),u<=0?l(u):n!==void 0?typeof i=="string"?l(u).fill(n,i):l(u).fill(n):l(u)}c.alloc=function(u,n,i){return g(u,n,i)};function v(u){return E(u),l(u<0?0:H(u)|0)}c.allocUnsafe=function(u){return v(u)},c.allocUnsafeSlow=function(u){return v(u)};function T(u,n){if((typeof n!="string"||n==="")&&(n="utf8"),!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const i=Ne(u,n)|0;let f=l(i);const h=f.write(u,n);return h!==i&&(f=f.slice(0,h)),f}function w(u){const n=u.length<0?0:H(u.length)|0,i=l(n);for(let f=0;f<n;f+=1)i[f]=u[f]&255;return i}function k(u){if(ee(u,Uint8Array)){const n=new Uint8Array(u);return X(n.buffer,n.byteOffset,n.byteLength)}return w(u)}function X(u,n,i){if(n<0||u.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');let f;return n===void 0&&i===void 0?f=new Uint8Array(u):i===void 0?f=new Uint8Array(u,n):f=new Uint8Array(u,n,i),Object.setPrototypeOf(f,c.prototype),f}function O(u){if(c.isBuffer(u)){const n=H(u.length)|0,i=l(n);return i.length===0||u.copy(i,0,0,n),i}if(u.length!==void 0)return typeof u.length!="number"||st(u.length)?l(0):w(u);if(u.type==="Buffer"&&Array.isArray(u.data))return w(u.data)}function H(u){if(u>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return u|0}function Ze(u){return+u!=u&&(u=0),c.alloc(+u)}c.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==c.prototype},c.compare=function(n,i){if(ee(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),ee(i,Uint8Array)&&(i=c.from(i,i.offset,i.byteLength)),!c.isBuffer(n)||!c.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;let f=n.length,h=i.length;for(let d=0,y=Math.min(f,h);d<y;++d)if(n[d]!==i[d]){f=n[d],h=i[d];break}return f<h?-1:h<f?1:0},c.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return c.alloc(0);let f;if(i===void 0)for(i=0,f=0;f<n.length;++f)i+=n[f].length;const h=c.allocUnsafe(i);let d=0;for(f=0;f<n.length;++f){let y=n[f];if(ee(y,Uint8Array))d+y.length>h.length?(c.isBuffer(y)||(y=c.from(y)),y.copy(h,d)):Uint8Array.prototype.set.call(h,y,d);else if(c.isBuffer(y))y.copy(h,d);else throw new TypeError('"list" argument must be an Array of Buffers');d+=y.length}return h};function Ne(u,n){if(c.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||ee(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);const i=u.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;let h=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return it(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Dt(u).length;default:if(h)return f?-1:it(u).length;n=(""+n).toLowerCase(),h=!0}}c.byteLength=Ne;function Je(u,n,i){let f=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,n>>>=0,i<=n))return"";for(u||(u="utf8");;)switch(u){case"hex":return N(this,n,i);case"utf8":case"utf-8":return R(this,n,i);case"ascii":return $(this,n,i);case"latin1":case"binary":return U(this,n,i);case"base64":return L(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,n,i);default:if(f)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),f=!0}}c.prototype._isBuffer=!0;function re(u,n,i){const f=u[n];u[n]=u[i],u[i]=f}c.prototype.swap16=function(){const n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<n;i+=2)re(this,i,i+1);return this},c.prototype.swap32=function(){const n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<n;i+=4)re(this,i,i+3),re(this,i+1,i+2);return this},c.prototype.swap64=function(){const n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<n;i+=8)re(this,i,i+7),re(this,i+1,i+6),re(this,i+2,i+5),re(this,i+3,i+4);return this},c.prototype.toString=function(){const n=this.length;return n===0?"":arguments.length===0?R(this,0,n):Je.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(n){if(!c.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:c.compare(this,n)===0},c.prototype.inspect=function(){let n="";const i=r.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(n,i,f,h,d){if(ee(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),!c.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),f===void 0&&(f=n?n.length:0),h===void 0&&(h=0),d===void 0&&(d=this.length),i<0||f>n.length||h<0||d>this.length)throw new RangeError("out of range index");if(h>=d&&i>=f)return 0;if(h>=d)return-1;if(i>=f)return 1;if(i>>>=0,f>>>=0,h>>>=0,d>>>=0,this===n)return 0;let y=d-h,B=f-i;const G=Math.min(y,B),M=this.slice(h,d),j=n.slice(i,f);for(let D=0;D<G;++D)if(M[D]!==j[D]){y=M[D],B=j[D];break}return y<B?-1:B<y?1:0};function Be(u,n,i,f,h){if(u.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,st(i)&&(i=h?0:u.length-1),i<0&&(i=u.length+i),i>=u.length){if(h)return-1;i=u.length-1}else if(i<0)if(h)i=0;else return-1;if(typeof n=="string"&&(n=c.from(n,f)),c.isBuffer(n))return n.length===0?-1:_e(u,n,i,f,h);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(u,n,i):Uint8Array.prototype.lastIndexOf.call(u,n,i):_e(u,[n],i,f,h);throw new TypeError("val must be string, number or Buffer")}function _e(u,n,i,f,h){let d=1,y=u.length,B=n.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(u.length<2||n.length<2)return-1;d=2,y/=2,B/=2,i/=2}function G(j,D){return d===1?j[D]:j.readUInt16BE(D*d)}let M;if(h){let j=-1;for(M=i;M<y;M++)if(G(u,M)===G(n,j===-1?0:M-j)){if(j===-1&&(j=M),M-j+1===B)return j*d}else j!==-1&&(M-=M-j),j=-1}else for(i+B>y&&(i=y-B),M=i;M>=0;M--){let j=!0;for(let D=0;D<B;D++)if(G(u,M+D)!==G(n,D)){j=!1;break}if(j)return M}return-1}c.prototype.includes=function(n,i,f){return this.indexOf(n,i,f)!==-1},c.prototype.indexOf=function(n,i,f){return Be(this,n,i,f,!0)},c.prototype.lastIndexOf=function(n,i,f){return Be(this,n,i,f,!1)};function Qe(u,n,i,f){i=Number(i)||0;const h=u.length-i;f?(f=Number(f),f>h&&(f=h)):f=h;const d=n.length;f>d/2&&(f=d/2);let y;for(y=0;y<f;++y){const B=parseInt(n.substr(y*2,2),16);if(st(B))return y;u[i+y]=B}return y}function et(u,n,i,f){return Oe(it(n,u.length-i),u,i,f)}function tt(u,n,i,f){return Oe(jr(n),u,i,f)}function x(u,n,i,f){return Oe(Dt(n),u,i,f)}function I(u,n,i,f){return Oe(kr(n,u.length-i),u,i,f)}c.prototype.write=function(n,i,f,h){if(i===void 0)h="utf8",f=this.length,i=0;else if(f===void 0&&typeof i=="string")h=i,f=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(f)?(f=f>>>0,h===void 0&&(h="utf8")):(h=f,f=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const d=this.length-i;if((f===void 0||f>d)&&(f=d),n.length>0&&(f<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let y=!1;for(;;)switch(h){case"hex":return Qe(this,n,i,f);case"utf8":case"utf-8":return et(this,n,i,f);case"ascii":case"latin1":case"binary":return tt(this,n,i,f);case"base64":return x(this,n,i,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,n,i,f);default:if(y)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),y=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(u,n,i){return n===0&&i===u.length?e.fromByteArray(u):e.fromByteArray(u.slice(n,i))}function R(u,n,i){i=Math.min(u.length,i);const f=[];let h=n;for(;h<i;){const d=u[h];let y=null,B=d>239?4:d>223?3:d>191?2:1;if(h+B<=i){let G,M,j,D;switch(B){case 1:d<128&&(y=d);break;case 2:G=u[h+1],(G&192)===128&&(D=(d&31)<<6|G&63,D>127&&(y=D));break;case 3:G=u[h+1],M=u[h+2],(G&192)===128&&(M&192)===128&&(D=(d&15)<<12|(G&63)<<6|M&63,D>2047&&(D<55296||D>57343)&&(y=D));break;case 4:G=u[h+1],M=u[h+2],j=u[h+3],(G&192)===128&&(M&192)===128&&(j&192)===128&&(D=(d&15)<<18|(G&63)<<12|(M&63)<<6|j&63,D>65535&&D<1114112&&(y=D))}}y===null?(y=65533,B=1):y>65535&&(y-=65536,f.push(y>>>10&1023|55296),y=56320|y&1023),f.push(y),h+=B}return A(f)}const S=4096;function A(u){const n=u.length;if(n<=S)return String.fromCharCode.apply(String,u);let i="",f=0;for(;f<n;)i+=String.fromCharCode.apply(String,u.slice(f,f+=S));return i}function $(u,n,i){let f="";i=Math.min(u.length,i);for(let h=n;h<i;++h)f+=String.fromCharCode(u[h]&127);return f}function U(u,n,i){let f="";i=Math.min(u.length,i);for(let h=n;h<i;++h)f+=String.fromCharCode(u[h]);return f}function N(u,n,i){const f=u.length;(!n||n<0)&&(n=0),(!i||i<0||i>f)&&(i=f);let h="";for(let d=n;d<i;++d)h+=Xr[u[d]];return h}function P(u,n,i){const f=u.slice(n,i);let h="";for(let d=0;d<f.length-1;d+=2)h+=String.fromCharCode(f[d]+f[d+1]*256);return h}c.prototype.slice=function(n,i){const f=this.length;n=~~n,i=i===void 0?f:~~i,n<0?(n+=f,n<0&&(n=0)):n>f&&(n=f),i<0?(i+=f,i<0&&(i=0)):i>f&&(i=f),i<n&&(i=n);const h=this.subarray(n,i);return Object.setPrototypeOf(h,c.prototype),h};function b(u,n,i){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+n>i)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(n,i,f){n=n>>>0,i=i>>>0,f||b(n,i,this.length);let h=this[n],d=1,y=0;for(;++y<i&&(d*=256);)h+=this[n+y]*d;return h},c.prototype.readUintBE=c.prototype.readUIntBE=function(n,i,f){n=n>>>0,i=i>>>0,f||b(n,i,this.length);let h=this[n+--i],d=1;for(;i>0&&(d*=256);)h+=this[n+--i]*d;return h},c.prototype.readUint8=c.prototype.readUInt8=function(n,i){return n=n>>>0,i||b(n,1,this.length),this[n]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||b(n,2,this.length),this[n]|this[n+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||b(n,2,this.length),this[n]<<8|this[n+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||b(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||b(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},c.prototype.readBigUInt64LE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24,d=this[++n]+this[++n]*2**8+this[++n]*2**16+f*2**24;return BigInt(h)+(BigInt(d)<<BigInt(32))}),c.prototype.readBigUInt64BE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=i*2**24+this[++n]*2**16+this[++n]*2**8+this[++n],d=this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+f;return(BigInt(h)<<BigInt(32))+BigInt(d)}),c.prototype.readIntLE=function(n,i,f){n=n>>>0,i=i>>>0,f||b(n,i,this.length);let h=this[n],d=1,y=0;for(;++y<i&&(d*=256);)h+=this[n+y]*d;return d*=128,h>=d&&(h-=Math.pow(2,8*i)),h},c.prototype.readIntBE=function(n,i,f){n=n>>>0,i=i>>>0,f||b(n,i,this.length);let h=i,d=1,y=this[n+--h];for(;h>0&&(d*=256);)y+=this[n+--h]*d;return d*=128,y>=d&&(y-=Math.pow(2,8*i)),y},c.prototype.readInt8=function(n,i){return n=n>>>0,i||b(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},c.prototype.readInt16LE=function(n,i){n=n>>>0,i||b(n,2,this.length);const f=this[n]|this[n+1]<<8;return f&32768?f|4294901760:f},c.prototype.readInt16BE=function(n,i){n=n>>>0,i||b(n,2,this.length);const f=this[n+1]|this[n]<<8;return f&32768?f|4294901760:f},c.prototype.readInt32LE=function(n,i){return n=n>>>0,i||b(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},c.prototype.readInt32BE=function(n,i){return n=n>>>0,i||b(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},c.prototype.readBigInt64LE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=this[n+4]+this[n+5]*2**8+this[n+6]*2**16+(f<<24);return(BigInt(h)<<BigInt(32))+BigInt(i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24)}),c.prototype.readBigInt64BE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=(i<<24)+this[++n]*2**16+this[++n]*2**8+this[++n];return(BigInt(h)<<BigInt(32))+BigInt(this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+f)}),c.prototype.readFloatLE=function(n,i){return n=n>>>0,i||b(n,4,this.length),t.read(this,n,!0,23,4)},c.prototype.readFloatBE=function(n,i){return n=n>>>0,i||b(n,4,this.length),t.read(this,n,!1,23,4)},c.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||b(n,8,this.length),t.read(this,n,!0,52,8)},c.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||b(n,8,this.length),t.read(this,n,!1,52,8)};function _(u,n,i,f,h,d){if(!c.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>h||n<d)throw new RangeError('"value" argument is out of bounds');if(i+f>u.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(n,i,f,h){if(n=+n,i=i>>>0,f=f>>>0,!h){const B=Math.pow(2,8*f)-1;_(this,n,i,f,B,0)}let d=1,y=0;for(this[i]=n&255;++y<f&&(d*=256);)this[i+y]=n/d&255;return i+f},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(n,i,f,h){if(n=+n,i=i>>>0,f=f>>>0,!h){const B=Math.pow(2,8*f)-1;_(this,n,i,f,B,0)}let d=f-1,y=1;for(this[i+d]=n&255;--d>=0&&(y*=256);)this[i+d]=n/y&255;return i+f},c.prototype.writeUint8=c.prototype.writeUInt8=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,1,255,0),this[i]=n&255,i+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function ae(u,n,i,f,h){Ft(n,f,h,u,i,7);let d=Number(n&BigInt(4294967295));u[i++]=d,d=d>>8,u[i++]=d,d=d>>8,u[i++]=d,d=d>>8,u[i++]=d;let y=Number(n>>BigInt(32)&BigInt(4294967295));return u[i++]=y,y=y>>8,u[i++]=y,y=y>>8,u[i++]=y,y=y>>8,u[i++]=y,i}function rt(u,n,i,f,h){Ft(n,f,h,u,i,7);let d=Number(n&BigInt(4294967295));u[i+7]=d,d=d>>8,u[i+6]=d,d=d>>8,u[i+5]=d,d=d>>8,u[i+4]=d;let y=Number(n>>BigInt(32)&BigInt(4294967295));return u[i+3]=y,y=y>>8,u[i+2]=y,y=y>>8,u[i+1]=y,y=y>>8,u[i]=y,i+8}c.prototype.writeBigUInt64LE=ue(function(n,i=0){return ae(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ue(function(n,i=0){return rt(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(n,i,f,h){if(n=+n,i=i>>>0,!h){const G=Math.pow(2,8*f-1);_(this,n,i,f,G-1,-G)}let d=0,y=1,B=0;for(this[i]=n&255;++d<f&&(y*=256);)n<0&&B===0&&this[i+d-1]!==0&&(B=1),this[i+d]=(n/y>>0)-B&255;return i+f},c.prototype.writeIntBE=function(n,i,f,h){if(n=+n,i=i>>>0,!h){const G=Math.pow(2,8*f-1);_(this,n,i,f,G-1,-G)}let d=f-1,y=1,B=0;for(this[i+d]=n&255;--d>=0&&(y*=256);)n<0&&B===0&&this[i+d+1]!==0&&(B=1),this[i+d]=(n/y>>0)-B&255;return i+f},c.prototype.writeInt8=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1},c.prototype.writeInt16LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2},c.prototype.writeInt16BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2},c.prototype.writeInt32LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4},c.prototype.writeInt32BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4},c.prototype.writeBigInt64LE=ue(function(n,i=0){return ae(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ue(function(n,i=0){return rt(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ot(u,n,i,f,h,d){if(i+f>u.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function bt(u,n,i,f,h){return n=+n,i=i>>>0,h||Ot(u,n,i,4),t.write(u,n,i,f,23,4),i+4}c.prototype.writeFloatLE=function(n,i,f){return bt(this,n,i,!0,f)},c.prototype.writeFloatBE=function(n,i,f){return bt(this,n,i,!1,f)};function Ct(u,n,i,f,h){return n=+n,i=i>>>0,h||Ot(u,n,i,8),t.write(u,n,i,f,52,8),i+8}c.prototype.writeDoubleLE=function(n,i,f){return Ct(this,n,i,!0,f)},c.prototype.writeDoubleBE=function(n,i,f){return Ct(this,n,i,!1,f)},c.prototype.copy=function(n,i,f,h){if(!c.isBuffer(n))throw new TypeError("argument should be a Buffer");if(f||(f=0),!h&&h!==0&&(h=this.length),i>=n.length&&(i=n.length),i||(i=0),h>0&&h<f&&(h=f),h===f||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),n.length-i<h-f&&(h=n.length-i+f);const d=h-f;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,f,h):Uint8Array.prototype.set.call(n,this.subarray(f,h),i),d},c.prototype.fill=function(n,i,f,h){if(typeof n=="string"){if(typeof i=="string"?(h=i,i=0,f=this.length):typeof f=="string"&&(h=f,f=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!c.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(n.length===1){const y=n.charCodeAt(0);(h==="utf8"&&y<128||h==="latin1")&&(n=y)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<f)throw new RangeError("Out of range index");if(f<=i)return this;i=i>>>0,f=f===void 0?this.length:f>>>0,n||(n=0);let d;if(typeof n=="number")for(d=i;d<f;++d)this[d]=n;else{const y=c.isBuffer(n)?n:c.from(n,h),B=y.length;if(B===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(d=0;d<f-i;++d)this[d+i]=y[d%B]}return this};const ye={};function nt(u,n,i){ye[u]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}}}nt("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nt("ERR_INVALID_ARG_TYPE",function(u,n){return`The "${u}" argument must be of type number. Received type ${typeof n}`},TypeError),nt("ERR_OUT_OF_RANGE",function(u,n,i){let f=`The value of "${u}" is out of range.`,h=i;return Number.isInteger(i)&&Math.abs(i)>2**32?h=Ut(String(i)):typeof i=="bigint"&&(h=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(h=Ut(h)),h+="n"),f+=` It must be ${n}. Received ${h}`,f},RangeError);function Ut(u){let n="",i=u.length;const f=u[0]==="-"?1:0;for(;i>=f+4;i-=3)n=`_${u.slice(i-3,i)}${n}`;return`${u.slice(0,i)}${n}`}function Pr(u,n,i){me(n,"offset"),(u[n]===void 0||u[n+i]===void 0)&&Re(n,u.length-(i+1))}function Ft(u,n,i,f,h,d){if(u>i||u<n){const y=typeof n=="bigint"?"n":"";let B;throw d>3?n===0||n===BigInt(0)?B=`>= 0${y} and < 2${y} ** ${(d+1)*8}${y}`:B=`>= -(2${y} ** ${(d+1)*8-1}${y}) and < 2 ** ${(d+1)*8-1}${y}`:B=`>= ${n}${y} and <= ${i}${y}`,new ye.ERR_OUT_OF_RANGE("value",B,u)}Pr(f,h,d)}function me(u,n){if(typeof u!="number")throw new ye.ERR_INVALID_ARG_TYPE(n,"number",u)}function Re(u,n,i){throw Math.floor(u)!==u?(me(u,i),new ye.ERR_OUT_OF_RANGE(i||"offset","an integer",u)):n<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${n}`,u)}const Mr=/[^+/0-9A-Za-z-_]/g;function Gr(u){if(u=u.split("=")[0],u=u.trim().replace(Mr,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}function it(u,n){n=n||1/0;let i;const f=u.length;let h=null;const d=[];for(let y=0;y<f;++y){if(i=u.charCodeAt(y),i>55295&&i<57344){if(!h){if(i>56319){(n-=3)>-1&&d.push(239,191,189);continue}else if(y+1===f){(n-=3)>-1&&d.push(239,191,189);continue}h=i;continue}if(i<56320){(n-=3)>-1&&d.push(239,191,189),h=i;continue}i=(h-55296<<10|i-56320)+65536}else h&&(n-=3)>-1&&d.push(239,191,189);if(h=null,i<128){if((n-=1)<0)break;d.push(i)}else if(i<2048){if((n-=2)<0)break;d.push(i>>6|192,i&63|128)}else if(i<65536){if((n-=3)<0)break;d.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((n-=4)<0)break;d.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return d}function jr(u){const n=[];for(let i=0;i<u.length;++i)n.push(u.charCodeAt(i)&255);return n}function kr(u,n){let i,f,h;const d=[];for(let y=0;y<u.length&&!((n-=2)<0);++y)i=u.charCodeAt(y),f=i>>8,h=i%256,d.push(h),d.push(f);return d}function Dt(u){return e.toByteArray(Gr(u))}function Oe(u,n,i,f){let h;for(h=0;h<f&&!(h+i>=n.length||h>=u.length);++h)n[h+i]=u[h];return h}function ee(u,n){return u instanceof n||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===n.name}function st(u){return u!==u}const Xr=function(){const u="0123456789abcdef",n=new Array(256);for(let i=0;i<16;++i){const f=i*16;for(let h=0;h<16;++h)n[f+h]=u[i]+u[h]}return n}();function ue(u){return typeof BigInt>"u"?qr:u}function qr(){throw new Error("BigInt not supported")}})(W);window.Buffer=W.Buffer;var At={exports:{}},xe=typeof Reflect=="object"?Reflect:null,Pt=xe&&typeof xe.apply=="function"?xe.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)},Me;xe&&typeof xe.ownKeys=="function"?Me=xe.ownKeys:Object.getOwnPropertySymbols?Me=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Me=function(e){return Object.getOwnPropertyNames(e)};function Qr(r){console&&console.warn&&console.warn(r)}var Ir=Number.isNaN||function(e){return e!==e};function F(){F.init.call(this)}At.exports=F;At.exports.once=nn;F.EventEmitter=F;F.prototype._events=void 0;F.prototype._eventsCount=0;F.prototype._maxListeners=void 0;var Mt=10;function qe(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(F,"defaultMaxListeners",{enumerable:!0,get:function(){return Mt},set:function(r){if(typeof r!="number"||r<0||Ir(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Mt=r}});F.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};F.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ir(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function xr(r){return r._maxListeners===void 0?F.defaultMaxListeners:r._maxListeners}F.prototype.getMaxListeners=function(){return xr(this)};F.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var a=e==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var l;if(t.length>0&&(l=t[0]),l instanceof Error)throw l;var c=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw c.context=l,c}var p=o[e];if(p===void 0)return!1;if(typeof p=="function")Pt(p,this,t);else for(var E=p.length,g=Lr(p,E),s=0;s<E;++s)Pt(g[s],this,t);return!0};function Tr(r,e,t,s){var a,o,l;if(qe(t),o=r._events,o===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),l=o[e]),l===void 0)l=o[e]=t,++r._eventsCount;else if(typeof l=="function"?l=o[e]=s?[t,l]:[l,t]:s?l.unshift(t):l.push(t),a=xr(r),a>0&&l.length>a&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=r,c.type=e,c.count=l.length,Qr(c)}return r}F.prototype.addListener=function(e,t){return Tr(this,e,t,!1)};F.prototype.on=F.prototype.addListener;F.prototype.prependListener=function(e,t){return Tr(this,e,t,!0)};function en(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ar(r,e,t){var s={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},a=en.bind(s);return a.listener=t,s.wrapFn=a,a}F.prototype.once=function(e,t){return qe(t),this.on(e,Ar(this,e,t)),this};F.prototype.prependOnceListener=function(e,t){return qe(t),this.prependListener(e,Ar(this,e,t)),this};F.prototype.removeListener=function(e,t){var s,a,o,l,c;if(qe(t),a=this._events,a===void 0)return this;if(s=a[e],s===void 0)return this;if(s===t||s.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,s.listener||t));else if(typeof s!="function"){for(o=-1,l=s.length-1;l>=0;l--)if(s[l]===t||s[l].listener===t){c=s[l].listener,o=l;break}if(o<0)return this;o===0?s.shift():tn(s,o),s.length===1&&(a[e]=s[0]),a.removeListener!==void 0&&this.emit("removeListener",e,c||t)}return this};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(e){var t,s,a;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[e]),this;if(arguments.length===0){var o=Object.keys(s),l;for(a=0;a<o.length;++a)l=o[a],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=s[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this};function Rr(r,e,t){var s=r._events;if(s===void 0)return[];var a=s[e];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?rn(a):Lr(a,a.length)}F.prototype.listeners=function(e){return Rr(this,e,!0)};F.prototype.rawListeners=function(e){return Rr(this,e,!1)};F.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):Sr.call(r,e)};F.prototype.listenerCount=Sr;function Sr(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}F.prototype.eventNames=function(){return this._eventsCount>0?Me(this._events):[]};function Lr(r,e){for(var t=new Array(e),s=0;s<e;++s)t[s]=r[s];return t}function tn(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function rn(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function nn(r,e){return new Promise(function(t,s){function a(l){r.removeListener(e,o),s(l)}function o(){typeof r.removeListener=="function"&&r.removeListener("error",a),t([].slice.call(arguments))}$r(r,e,o,{once:!0}),e!=="error"&&sn(r,a,{once:!0})})}function sn(r,e,t){typeof r.on=="function"&&$r(r,"error",e,t)}function $r(r,e,t,s){if(typeof r.on=="function")s.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function a(o){s.once&&r.removeEventListener(e,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var on=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();globalThis&&globalThis.__values;var m=function(r){var e=function(t){on(s,t);function s(a,o,l){var c=t.call(this,a||r,l)||this;if(Object.setPrototypeOf(c,s.prototype),c.name=r,o)for(var p in o)c[p]=o[p];if(an(l)&&"cause"in l&&!("cause"in c)){var E=l.cause;c.cause=E,"stack"in E&&(c.stack=c.stack+`
CAUSE: `+E.stack)}return c}return s}(Error);return e};function an(r){return r!==null&&typeof r=="object"}var un=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();m("AccountNameRequired");m("AccountNotSupported");m("AmountRequired");m("BluetoothRequired");m("BtcUnmatchedApp");m("CantOpenDevice");m("CashAddrNotSupported");m("CurrencyNotSupported");m("DeviceAppVerifyNotSupported");m("DeviceGenuineSocketEarlyClose");m("DeviceNotGenuine");m("DeviceOnDashboardExpected");m("DeviceOnDashboardUnexpected");m("DeviceInOSUExpected");m("DeviceHalted");m("DeviceNameInvalid");m("DeviceSocketFail");m("DeviceSocketNoBulkStatus");var cn=m("DisconnectedDevice"),ln=m("DisconnectedDeviceDuringOperation");m("DeviceExtractOnboardingStateError");m("DeviceOnboardingStatePollingError");m("EnpointConfig");m("EthAppPleaseEnableContractData");m("FeeEstimationFailed");m("FirmwareNotRecognized");m("HardResetFail");m("InvalidXRPTag");m("InvalidAddress");m("InvalidAddressBecauseDestinationIsAlsoSource");m("LatestMCUInstalledError");m("UnknownMCU");m("LedgerAPIError");m("LedgerAPIErrorWithMessage");m("LedgerAPINotAvailable");m("ManagerAppAlreadyInstalled");m("ManagerAppRelyOnBTC");m("ManagerAppDepInstallRequired");m("ManagerAppDepUninstallRequired");m("ManagerDeviceLocked");m("ManagerFirmwareNotEnoughSpace");m("ManagerNotEnoughSpace");m("ManagerUninstallBTCDep");m("NetworkDown");m("NoAddressesFound");m("NotEnoughBalance");m("NotEnoughBalanceToDelegate");m("NotEnoughBalanceInParentAccount");m("NotEnoughSpendableBalance");m("NotEnoughBalanceBecauseDestinationNotCreated");m("NoAccessToCamera");m("NotEnoughGas");m("NotSupportedLegacyAddress");m("GasLessThanEstimate");m("PasswordsDontMatch");m("PasswordIncorrect");m("RecommendSubAccountsToEmpty");m("RecommendUndelegation");m("TimeoutTagged");m("UnexpectedBootloader");m("MCUNotGenuineToDashboard");m("RecipientRequired");m("UnavailableTezosOriginatedAccountReceive");m("UnavailableTezosOriginatedAccountSend");m("UpdateFetchFileFail");m("UpdateIncorrectHash");m("UpdateIncorrectSig");m("UpdateYourApp");m("UserRefusedDeviceNameChange");m("UserRefusedAddress");m("UserRefusedFirmwareUpdate");m("UserRefusedAllowManager");m("UserRefusedOnDevice");var Gt=m("TransportOpenUserCancelled");m("TransportInterfaceNotAvailable");var fn=m("TransportRaceCondition");m("TransportWebUSBGestureRequired");m("DeviceShouldStayInApp");m("WebsocketConnectionError");m("WebsocketConnectionFailed");m("WrongDeviceForAccount");m("WrongAppForCurrency");m("ETHAddressNonEIP");m("CantScanQRCode");m("FeeNotLoaded");m("FeeRequired");m("FeeTooHigh");m("PendingOperation");m("SyncError");m("PairingFailed");m("GenuineCheckFailed");m("LedgerAPI4xx");m("LedgerAPI5xx");m("FirmwareOrAppUpdateRequired");m("LanguageNotFound");m("NoDBPathGiven");m("DBWrongPassword");m("DBNotReset");var le=function(r){un(e,r);function e(t,s){var a=this,o="TransportError";return a=r.call(this,t||o)||this,a.name=o,a.message=t,a.stack=new Error().stack,a.id=s,a}return e}(Error),vt={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function hn(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=r&&r<=28671)return"Internal error, please report"}function Nr(r){this.name="TransportStatusError";var e=Object.keys(vt).find(function(a){return vt[a]===r})||"UNKNOWN_ERROR",t=hn(r)||e,s=r.toString(16);this.message="Ledger device: ".concat(t," (0x").concat(s,")"),this.stack=new Error().stack,this.statusCode=r,this.statusText=e}Nr.prototype=new Error;var at=globalThis&&globalThis.__awaiter||function(r,e,t,s){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(g){try{E(s.next(g))}catch(v){l(v)}}function p(g){try{E(s.throw(g))}catch(v){l(v)}}function E(g){g.done?o(g.value):a(g.value).then(c,p)}E((s=s.apply(r,e||[])).next())})},ut=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(E){return function(g){return p([E,g])}}function p(E){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,a&&(o=E[0]&2?a.return:E[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,E[1])).done)return o;switch(a=0,o&&(E=[E[0]&2,o.value]),E[0]){case 0:case 1:o=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,a=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!o||E[1]>o[0]&&E[1]<o[3])){t.label=E[1];break}if(E[0]===6&&t.label<o[1]){t.label=o[1],o=E;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(E);break}o[2]&&t.ops.pop(),t.trys.pop();continue}E=e.call(r,t)}catch(g){E=[6,g],a=0}finally{s=o=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},pn=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(l)throw l.error}}return o},dn=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,o;s<a;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return r.concat(o||Array.prototype.slice.call(e))},En=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gn=function(){function r(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new At.exports,this.send=function(t,s,a,o,l,c){return l===void 0&&(l=Buffer.alloc(0)),c===void 0&&(c=[vt.OK]),at(e,void 0,void 0,function(){var p,E;return ut(this,function(g){switch(g.label){case 0:if(l.length>=256)throw new le("data.length exceed 256 bytes limit. Got: "+l.length,"DataLengthTooBig");return[4,this.exchange(Buffer.concat([Buffer.from([t,s,a,o]),Buffer.from([l.length]),l]))];case 1:if(p=g.sent(),E=p.readUInt16BE(p.length-2),!c.some(function(v){return v===E}))throw new Nr(E);return[2,p]}})})},this.exchangeAtomicImpl=function(t){return at(e,void 0,void 0,function(){var s,a,o,l,c,p=this;return ut(this,function(E){switch(E.label){case 0:if(this.exchangeBusyPromise)throw new fn("An action was already pending on the Ledger device. Please deny or reconnect.");a=new Promise(function(g){s=g}),this.exchangeBusyPromise=a,o=!1,l=setTimeout(function(){o=!0,p.emit("unresponsive")},this.unresponsiveTimeout),E.label=1;case 1:return E.trys.push([1,,3,4]),[4,t()];case 2:return c=E.sent(),o&&this.emit("responsive"),[2,c];case 3:return clearTimeout(l),s&&s(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return r.prototype.exchange=function(e){throw new Error("exchange not implemented")},r.prototype.setScrambleKey=function(e){},r.prototype.close=function(){return Promise.resolve()},r.prototype.on=function(e,t){this._events.on(e,t)},r.prototype.off=function(e,t){this._events.removeListener(e,t)},r.prototype.emit=function(e){for(var t,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];(t=this._events).emit.apply(t,dn([e],pn(s),!1))},r.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},r.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},r.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},r.create=function(e,t){var s=this;return e===void 0&&(e=3e3),new Promise(function(a,o){var l=!1,c=s.listen({next:function(E){l=!0,c&&c.unsubscribe(),p&&clearTimeout(p),s.open(E.descriptor,e).then(a,o)},error:function(E){p&&clearTimeout(p),o(E)},complete:function(){p&&clearTimeout(p),l||o(new le(s.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),p=t?setTimeout(function(){c.unsubscribe(),o(new le(s.ErrorMessage_ListenTimeout,"ListenTimeout"))},t):null})},r.prototype.decorateAppAPIMethods=function(e,t,s){var a,o;try{for(var l=En(t),c=l.next();!c.done;c=l.next()){var p=c.value;e[p]=this.decorateAppAPIMethod(p,e[p],e,s)}}catch(E){a={error:E}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}},r.prototype.decorateAppAPIMethod=function(e,t,s,a){var o=this;return function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return at(o,void 0,void 0,function(){var p;return ut(this,function(E){switch(E.label){case 0:if(p=this._appAPIlock,p)return[2,Promise.reject(new le("Ledger Device is busy (lock "+p+")","TransportLocked"))];E.label=1;case 1:return E.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(a),[4,t.apply(s,l)];case 2:return[2,E.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},r.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",r.ErrorMessage_NoDeviceFound="No Ledger device found",r}(),jt=5;function yn(r){var e=Buffer.alloc(2);return e.writeUInt16BE(r,0),e}var mn={data:Buffer.alloc(0),dataLength:0,sequence:0},vn=function(r,e){return{makeBlocks:function(t){var s=Buffer.concat([yn(t.length),t]),a=e-5,o=Math.ceil(s.length/a);s=Buffer.concat([s,Buffer.alloc(o*a-s.length+1).fill(0)]);for(var l=[],c=0;c<o;c++){var p=Buffer.alloc(5);p.writeUInt16BE(r,0),p.writeUInt8(jt,2),p.writeUInt16BE(c,3);var E=s.slice(c*a,(c+1)*a);l.push(Buffer.concat([p,E]))}return l},reduceResponse:function(t,s){var a=t||mn,o=a.data,l=a.dataLength,c=a.sequence;if(s.readUInt16BE(0)!==r)throw new le("Invalid channel","InvalidChannel");if(s.readUInt8(2)!==jt)throw new le("Invalid tag","InvalidTag");if(s.readUInt16BE(3)!==c)throw new le("Invalid sequence","InvalidSequence");t||(l=s.readUInt16BE(5)),c++;var p=s.slice(t?5:7);return o=Buffer.concat([o,p]),o.length>l&&(o=o.slice(0,l)),{data:o,dataLength:l,sequence:c}},getReducedResult:function(t){if(t&&t.dataLength===t.data.length)return t.data}}},fe={exports:{}};const wn="2.0.0",In=256,xn=Number.MAX_SAFE_INTEGER||9007199254740991,Tn=16;var Ve={SEMVER_SPEC_VERSION:wn,MAX_LENGTH:In,MAX_SAFE_INTEGER:xn,MAX_SAFE_COMPONENT_LENGTH:Tn};const An=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var He=An;(function(r,e){const{MAX_SAFE_COMPONENT_LENGTH:t}=Ve,s=He;e=r.exports={};const a=e.re=[],o=e.src=[],l=e.t={};let c=0;const p=(E,g,v)=>{const T=c++;s(E,T,g),l[E]=T,o[T]=g,a[T]=new RegExp(g,v?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","[0-9]+"),p("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),p("MAINVERSION",`(${o[l.NUMERICIDENTIFIER]})\\.(${o[l.NUMERICIDENTIFIER]})\\.(${o[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${o[l.NUMERICIDENTIFIERLOOSE]})\\.(${o[l.NUMERICIDENTIFIERLOOSE]})\\.(${o[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${o[l.NUMERICIDENTIFIER]}|${o[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${o[l.NUMERICIDENTIFIERLOOSE]}|${o[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${o[l.PRERELEASEIDENTIFIER]}(?:\\.${o[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${o[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER","[0-9A-Za-z-]+"),p("BUILD",`(?:\\+(${o[l.BUILDIDENTIFIER]}(?:\\.${o[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${o[l.MAINVERSION]}${o[l.PRERELEASE]}?${o[l.BUILD]}?`),p("FULL",`^${o[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${o[l.MAINVERSIONLOOSE]}${o[l.PRERELEASELOOSE]}?${o[l.BUILD]}?`),p("LOOSE",`^${o[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${o[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${o[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${o[l.XRANGEIDENTIFIER]})(?:\\.(${o[l.XRANGEIDENTIFIER]})(?:\\.(${o[l.XRANGEIDENTIFIER]})(?:${o[l.PRERELEASE]})?${o[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${o[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[l.XRANGEIDENTIFIERLOOSE]})(?:${o[l.PRERELEASELOOSE]})?${o[l.BUILD]}?)?)?`),p("XRANGE",`^${o[l.GTLT]}\\s*${o[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${o[l.GTLT]}\\s*${o[l.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),p("COERCERTL",o[l.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${o[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${o[l.LONETILDE]}${o[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${o[l.LONETILDE]}${o[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${o[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${o[l.LONECARET]}${o[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${o[l.LONECARET]}${o[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${o[l.GTLT]}\\s*(${o[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${o[l.GTLT]}\\s*(${o[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${o[l.GTLT]}\\s*(${o[l.LOOSEPLAIN]}|${o[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${o[l.XRANGEPLAIN]})\\s+-\\s+(${o[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${o[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(fe,fe.exports);const Rn=["includePrerelease","loose","rtl"],Sn=r=>r?typeof r!="object"?{loose:!0}:Rn.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};var We=Sn;const kt=/^[0-9]+$/,Br=(r,e)=>{const t=kt.test(r),s=kt.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},Ln=(r,e)=>Br(e,r);var _r={compareIdentifiers:Br,rcompareIdentifiers:Ln};const be=He,{MAX_LENGTH:Xt,MAX_SAFE_INTEGER:Ce}=Ve,{re:qt,t:Vt}=fe.exports,$n=We,{compareIdentifiers:we}=_r;class Y{constructor(e,t){if(t=$n(t),e instanceof Y){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Xt)throw new TypeError(`version is longer than ${Xt} characters`);be("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?qt[Vt.LOOSE]:qt[Vt.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Ce||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ce||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ce||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){const o=+a;if(o>=0&&o<Ce)return o}return a}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(be("SemVer.compare",this.version,this.options,e),!(e instanceof Y)){if(typeof e=="string"&&e===this.version)return 0;e=new Y(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Y||(e=new Y(e,this.options)),we(this.major,e.major)||we(this.minor,e.minor)||we(this.patch,e.patch)}comparePre(e){if(e instanceof Y||(e=new Y(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],a=e.prerelease[t];if(be("prerelease compare",t,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return we(s,a)}while(++t)}compareBuild(e){e instanceof Y||(e=new Y(e,this.options));let t=0;do{const s=this.build[t],a=e.build[t];if(be("prerelease compare",t,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return we(s,a)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}t&&(we(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var z=Y;const{MAX_LENGTH:Nn}=Ve,{re:Ht,t:Wt}=fe.exports,zt=z,Bn=We,_n=(r,e)=>{if(e=Bn(e),r instanceof zt)return r;if(typeof r!="string"||r.length>Nn||!(e.loose?Ht[Wt.LOOSE]:Ht[Wt.FULL]).test(r))return null;try{return new zt(r,e)}catch{return null}};var Ae=_n;const On=Ae,bn=(r,e)=>{const t=On(r,e);return t?t.version:null};var Cn=bn;const Un=Ae,Fn=(r,e)=>{const t=Un(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};var Dn=Fn;const Kt=z,Pn=(r,e,t,s)=>{typeof t=="string"&&(s=t,t=void 0);try{return new Kt(r instanceof Kt?r.version:r,t).inc(e,s).version}catch{return null}};var Mn=Pn;const Yt=z,Gn=(r,e,t)=>new Yt(r,t).compare(new Yt(e,t));var J=Gn;const jn=J,kn=(r,e,t)=>jn(r,e,t)===0;var Rt=kn;const Zt=Ae,Xn=Rt,qn=(r,e)=>{if(Xn(r,e))return null;{const t=Zt(r),s=Zt(e),a=t.prerelease.length||s.prerelease.length,o=a?"pre":"",l=a?"prerelease":"";for(const c in t)if((c==="major"||c==="minor"||c==="patch")&&t[c]!==s[c])return o+c;return l}};var Vn=qn;const Hn=z,Wn=(r,e)=>new Hn(r,e).major;var zn=Wn;const Kn=z,Yn=(r,e)=>new Kn(r,e).minor;var Zn=Yn;const Jn=z,Qn=(r,e)=>new Jn(r,e).patch;var ei=Qn;const ti=Ae,ri=(r,e)=>{const t=ti(r,e);return t&&t.prerelease.length?t.prerelease:null};var ni=ri;const ii=J,si=(r,e,t)=>ii(e,r,t);var oi=si;const ai=J,ui=(r,e)=>ai(r,e,!0);var ci=ui;const Jt=z,li=(r,e,t)=>{const s=new Jt(r,t),a=new Jt(e,t);return s.compare(a)||s.compareBuild(a)};var St=li;const fi=St,hi=(r,e)=>r.sort((t,s)=>fi(t,s,e));var pi=hi;const di=St,Ei=(r,e)=>r.sort((t,s)=>di(s,t,e));var gi=Ei;const yi=J,mi=(r,e,t)=>yi(r,e,t)>0;var ze=mi;const vi=J,wi=(r,e,t)=>vi(r,e,t)<0;var Lt=wi;const Ii=J,xi=(r,e,t)=>Ii(r,e,t)!==0;var Or=xi;const Ti=J,Ai=(r,e,t)=>Ti(r,e,t)>=0;var $t=Ai;const Ri=J,Si=(r,e,t)=>Ri(r,e,t)<=0;var Nt=Si;const Li=Rt,$i=Or,Ni=ze,Bi=$t,_i=Lt,Oi=Nt,bi=(r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Li(r,t,s);case"!=":return $i(r,t,s);case">":return Ni(r,t,s);case">=":return Bi(r,t,s);case"<":return _i(r,t,s);case"<=":return Oi(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var br=bi;const Ci=z,Ui=Ae,{re:Ue,t:Fe}=fe.exports,Fi=(r,e)=>{if(r instanceof Ci)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Ue[Fe.COERCE]);else{let s;for(;(s=Ue[Fe.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||s.index+s[0].length!==t.index+t[0].length)&&(t=s),Ue[Fe.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;Ue[Fe.COERCERTL].lastIndex=-1}return t===null?null:Ui(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};var Di=Fi,ct,Qt;function Pi(){return Qt||(Qt=1,ct=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),ct}var Mi=C;C.Node=ge;C.create=C;function C(r){var e=this;if(e instanceof C||(e=new C),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(a){e.push(a)});else if(arguments.length>0)for(var t=0,s=arguments.length;t<s;t++)e.push(arguments[t]);return e}C.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};C.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};C.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};C.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)ji(this,arguments[r]);return this.length};C.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)ki(this,arguments[r]);return this.length};C.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};C.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};C.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,s=0;t!==null;s++)r.call(e,t.value,s,this),t=t.next};C.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,s=this.length-1;t!==null;s--)r.call(e,t.value,s,this),t=t.prev};C.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};C.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};C.prototype.map=function(r,e){e=e||this;for(var t=new C,s=this.head;s!==null;)t.push(r.call(e,s.value,this)),s=s.next;return t};C.prototype.mapReverse=function(r,e){e=e||this;for(var t=new C,s=this.tail;s!==null;)t.push(r.call(e,s.value,this)),s=s.prev;return t};C.prototype.reduce=function(r,e){var t,s=this.head;if(arguments.length>1)t=e;else if(this.head)s=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=0;s!==null;a++)t=r(t,s.value,a),s=s.next;return t};C.prototype.reduceReverse=function(r,e){var t,s=this.tail;if(arguments.length>1)t=e;else if(this.tail)s=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;s!==null;a--)t=r(t,s.value,a),s=s.prev;return t};C.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};C.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};C.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new C;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=0,a=this.head;a!==null&&s<r;s++)a=a.next;for(;a!==null&&s<e;s++,a=a.next)t.push(a.value);return t};C.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new C;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=this.length,a=this.tail;a!==null&&s>e;s--)a=a.prev;for(;a!==null&&s>r;s--,a=a.prev)t.push(a.value);return t};C.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var s=0,a=this.head;a!==null&&s<r;s++)a=a.next;for(var o=[],s=0;a&&s<e;s++)o.push(a.value),a=this.removeNode(a);a===null&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var s=0;s<t.length;s++)a=Gi(this,a,t[s]);return o};C.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var s=t.prev;t.prev=t.next,t.next=s}return this.head=e,this.tail=r,this};function Gi(r,e,t){var s=e===r.head?new ge(t,null,e,r):new ge(t,e,e.next,r);return s.next===null&&(r.tail=s),s.prev===null&&(r.head=s),r.length++,s}function ji(r,e){r.tail=new ge(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function ki(r,e){r.head=new ge(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function ge(r,e,t,s){if(!(this instanceof ge))return new ge(r,e,t,s);this.list=s,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Pi()(C)}catch{}const Xi=Mi,de=Symbol("max"),ie=Symbol("length"),Ie=Symbol("lengthCalculator"),$e=Symbol("allowStale"),Ee=Symbol("maxAge"),ne=Symbol("dispose"),er=Symbol("noDisposeOnSet"),q=Symbol("lruList"),Z=Symbol("cache"),Cr=Symbol("updateAgeOnGet"),lt=()=>1;class qi{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[de]=e.max||1/0;const t=e.length||lt;if(this[Ie]=typeof t!="function"?lt:t,this[$e]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ee]=e.maxAge||0,this[ne]=e.dispose,this[er]=e.noDisposeOnSet||!1,this[Cr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[de]=e||1/0,Se(this)}get max(){return this[de]}set allowStale(e){this[$e]=!!e}get allowStale(){return this[$e]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ee]=e,Se(this)}get maxAge(){return this[Ee]}set lengthCalculator(e){typeof e!="function"&&(e=lt),e!==this[Ie]&&(this[Ie]=e,this[ie]=0,this[q].forEach(t=>{t.length=this[Ie](t.value,t.key),this[ie]+=t.length})),Se(this)}get lengthCalculator(){return this[Ie]}get length(){return this[ie]}get itemCount(){return this[q].length}rforEach(e,t){t=t||this;for(let s=this[q].tail;s!==null;){const a=s.prev;tr(this,e,s,t),s=a}}forEach(e,t){t=t||this;for(let s=this[q].head;s!==null;){const a=s.next;tr(this,e,s,t),s=a}}keys(){return this[q].toArray().map(e=>e.key)}values(){return this[q].toArray().map(e=>e.value)}reset(){this[ne]&&this[q]&&this[q].length&&this[q].forEach(e=>this[ne](e.key,e.value)),this[Z]=new Map,this[q]=new Xi,this[ie]=0}dump(){return this[q].map(e=>je(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[q]}set(e,t,s){if(s=s||this[Ee],s&&typeof s!="number")throw new TypeError("maxAge must be a number");const a=s?Date.now():0,o=this[Ie](t,e);if(this[Z].has(e)){if(o>this[de])return Te(this,this[Z].get(e)),!1;const p=this[Z].get(e).value;return this[ne]&&(this[er]||this[ne](e,p.value)),p.now=a,p.maxAge=s,p.value=t,this[ie]+=o-p.length,p.length=o,this.get(e),Se(this),!0}const l=new Vi(e,t,o,a,s);return l.length>this[de]?(this[ne]&&this[ne](e,t),!1):(this[ie]+=l.length,this[q].unshift(l),this[Z].set(e,this[q].head),Se(this),!0)}has(e){if(!this[Z].has(e))return!1;const t=this[Z].get(e).value;return!je(this,t)}get(e){return ft(this,e,!0)}peek(e){return ft(this,e,!1)}pop(){const e=this[q].tail;return e?(Te(this,e),e.value):null}del(e){Te(this,this[Z].get(e))}load(e){this.reset();const t=Date.now();for(let s=e.length-1;s>=0;s--){const a=e[s],o=a.e||0;if(o===0)this.set(a.k,a.v);else{const l=o-t;l>0&&this.set(a.k,a.v,l)}}}prune(){this[Z].forEach((e,t)=>ft(this,t,!1))}}const ft=(r,e,t)=>{const s=r[Z].get(e);if(s){const a=s.value;if(je(r,a)){if(Te(r,s),!r[$e])return}else t&&(r[Cr]&&(s.value.now=Date.now()),r[q].unshiftNode(s));return a.value}},je=(r,e)=>{if(!e||!e.maxAge&&!r[Ee])return!1;const t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Ee]&&t>r[Ee]},Se=r=>{if(r[ie]>r[de])for(let e=r[q].tail;r[ie]>r[de]&&e!==null;){const t=e.prev;Te(r,e),e=t}},Te=(r,e)=>{if(e){const t=e.value;r[ne]&&r[ne](t.key,t.value),r[ie]-=t.length,r[Z].delete(t.key),r[q].removeNode(e)}};class Vi{constructor(e,t,s,a,o){this.key=e,this.value=t,this.length=s,this.now=a,this.maxAge=o||0}}const tr=(r,e,t,s)=>{let a=t.value;je(r,a)&&(Te(r,t),r[$e]||(a=void 0)),a&&e.call(s,a.value,a.key,r)};var Hi=qi,ht,rr;function Q(){if(rr)return ht;rr=1;class r{constructor(I,L){if(L=s(L),I instanceof r)return I.loose===!!L.loose&&I.includePrerelease===!!L.includePrerelease?I:new r(I.raw,L);if(I instanceof a)return this.raw=I.value,this.set=[[I]],this.format(),this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=I,this.set=I.split("||").map(R=>this.parseRange(R.trim())).filter(R=>R.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${I}`);if(this.set.length>1){const R=this.set[0];if(this.set=this.set.filter(S=>!T(S[0])),this.set.length===0)this.set=[R];else if(this.set.length>1){for(const S of this.set)if(S.length===1&&w(S[0])){this.set=[S];break}}}this.format()}format(){return this.range=this.set.map(I=>I.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(I){I=I.trim();const R=`parseRange:${Object.keys(this.options).join(",")}:${I}`,S=t.get(R);if(S)return S;const A=this.options.loose,$=A?c[p.HYPHENRANGELOOSE]:c[p.HYPHENRANGE];I=I.replace($,et(this.options.includePrerelease)),o("hyphen replace",I),I=I.replace(c[p.COMPARATORTRIM],E),o("comparator trim",I),I=I.replace(c[p.TILDETRIM],g),I=I.replace(c[p.CARETTRIM],v),I=I.split(/\s+/).join(" ");let U=I.split(" ").map(_=>X(_,this.options)).join(" ").split(/\s+/).map(_=>Qe(_,this.options));A&&(U=U.filter(_=>(o("loose invalid filter",_,this.options),!!_.match(c[p.COMPARATORLOOSE])))),o("range list",U);const N=new Map,P=U.map(_=>new a(_,this.options));for(const _ of P){if(T(_))return[_];N.set(_.value,_)}N.size>1&&N.has("")&&N.delete("");const b=[...N.values()];return t.set(R,b),b}intersects(I,L){if(!(I instanceof r))throw new TypeError("a Range is required");return this.set.some(R=>k(R,L)&&I.set.some(S=>k(S,L)&&R.every(A=>S.every($=>A.intersects($,L)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new l(I,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if(tt(this.set[L],I,this.options))return!0;return!1}}ht=r;const e=Hi,t=new e({max:1e3}),s=We,a=Ke(),o=He,l=z,{re:c,t:p,comparatorTrimReplace:E,tildeTrimReplace:g,caretTrimReplace:v}=fe.exports,T=x=>x.value==="<0.0.0-0",w=x=>x.value==="",k=(x,I)=>{let L=!0;const R=x.slice();let S=R.pop();for(;L&&R.length;)L=R.every(A=>S.intersects(A,I)),S=R.pop();return L},X=(x,I)=>(o("comp",x,I),x=Ne(x,I),o("caret",x),x=H(x,I),o("tildes",x),x=re(x,I),o("xrange",x),x=_e(x,I),o("stars",x),x),O=x=>!x||x.toLowerCase()==="x"||x==="*",H=(x,I)=>x.trim().split(/\s+/).map(L=>Ze(L,I)).join(" "),Ze=(x,I)=>{const L=I.loose?c[p.TILDELOOSE]:c[p.TILDE];return x.replace(L,(R,S,A,$,U)=>{o("tilde",x,R,S,A,$,U);let N;return O(S)?N="":O(A)?N=`>=${S}.0.0 <${+S+1}.0.0-0`:O($)?N=`>=${S}.${A}.0 <${S}.${+A+1}.0-0`:U?(o("replaceTilde pr",U),N=`>=${S}.${A}.${$}-${U} <${S}.${+A+1}.0-0`):N=`>=${S}.${A}.${$} <${S}.${+A+1}.0-0`,o("tilde return",N),N})},Ne=(x,I)=>x.trim().split(/\s+/).map(L=>Je(L,I)).join(" "),Je=(x,I)=>{o("caret",x,I);const L=I.loose?c[p.CARETLOOSE]:c[p.CARET],R=I.includePrerelease?"-0":"";return x.replace(L,(S,A,$,U,N)=>{o("caret",x,S,A,$,U,N);let P;return O(A)?P="":O($)?P=`>=${A}.0.0${R} <${+A+1}.0.0-0`:O(U)?A==="0"?P=`>=${A}.${$}.0${R} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.0${R} <${+A+1}.0.0-0`:N?(o("replaceCaret pr",N),A==="0"?$==="0"?P=`>=${A}.${$}.${U}-${N} <${A}.${$}.${+U+1}-0`:P=`>=${A}.${$}.${U}-${N} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.${U}-${N} <${+A+1}.0.0-0`):(o("no pr"),A==="0"?$==="0"?P=`>=${A}.${$}.${U}${R} <${A}.${$}.${+U+1}-0`:P=`>=${A}.${$}.${U}${R} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.${U} <${+A+1}.0.0-0`),o("caret return",P),P})},re=(x,I)=>(o("replaceXRanges",x,I),x.split(/\s+/).map(L=>Be(L,I)).join(" ")),Be=(x,I)=>{x=x.trim();const L=I.loose?c[p.XRANGELOOSE]:c[p.XRANGE];return x.replace(L,(R,S,A,$,U,N)=>{o("xRange",x,R,S,A,$,U,N);const P=O(A),b=P||O($),_=b||O(U),ae=_;return S==="="&&ae&&(S=""),N=I.includePrerelease?"-0":"",P?S===">"||S==="<"?R="<0.0.0-0":R="*":S&&ae?(b&&($=0),U=0,S===">"?(S=">=",b?(A=+A+1,$=0,U=0):($=+$+1,U=0)):S==="<="&&(S="<",b?A=+A+1:$=+$+1),S==="<"&&(N="-0"),R=`${S+A}.${$}.${U}${N}`):b?R=`>=${A}.0.0${N} <${+A+1}.0.0-0`:_&&(R=`>=${A}.${$}.0${N} <${A}.${+$+1}.0-0`),o("xRange return",R),R})},_e=(x,I)=>(o("replaceStars",x,I),x.trim().replace(c[p.STAR],"")),Qe=(x,I)=>(o("replaceGTE0",x,I),x.trim().replace(c[I.includePrerelease?p.GTE0PRE:p.GTE0],"")),et=x=>(I,L,R,S,A,$,U,N,P,b,_,ae,rt)=>(O(R)?L="":O(S)?L=`>=${R}.0.0${x?"-0":""}`:O(A)?L=`>=${R}.${S}.0${x?"-0":""}`:$?L=`>=${L}`:L=`>=${L}${x?"-0":""}`,O(P)?N="":O(b)?N=`<${+P+1}.0.0-0`:O(_)?N=`<${P}.${+b+1}.0-0`:ae?N=`<=${P}.${b}.${_}-${ae}`:x?N=`<${P}.${b}.${+_+1}-0`:N=`<=${N}`,`${L} ${N}`.trim()),tt=(x,I,L)=>{for(let R=0;R<x.length;R++)if(!x[R].test(I))return!1;if(I.prerelease.length&&!L.includePrerelease){for(let R=0;R<x.length;R++)if(o(x[R].semver),x[R].semver!==a.ANY&&x[R].semver.prerelease.length>0){const S=x[R].semver;if(S.major===I.major&&S.minor===I.minor&&S.patch===I.patch)return!0}return!1}return!0};return ht}var pt,nr;function Ke(){if(nr)return pt;nr=1;const r=Symbol("SemVer ANY");class e{static get ANY(){return r}constructor(g,v){if(v=t(v),g instanceof e){if(g.loose===!!v.loose)return g;g=g.value}l("comparator",g,v),this.options=v,this.loose=!!v.loose,this.parse(g),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(g){const v=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],T=g.match(v);if(!T)throw new TypeError(`Invalid comparator: ${g}`);this.operator=T[1]!==void 0?T[1]:"",this.operator==="="&&(this.operator=""),T[2]?this.semver=new c(T[2],this.options.loose):this.semver=r}toString(){return this.value}test(g){if(l("Comparator.test",g,this.options.loose),this.semver===r||g===r)return!0;if(typeof g=="string")try{g=new c(g,this.options)}catch{return!1}return o(g,this.operator,this.semver,this.options)}intersects(g,v){if(!(g instanceof e))throw new TypeError("a Comparator is required");if((!v||typeof v!="object")&&(v={loose:!!v,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new p(g.value,v).test(this.value);if(g.operator==="")return g.value===""?!0:new p(this.value,v).test(g.semver);const T=(this.operator===">="||this.operator===">")&&(g.operator===">="||g.operator===">"),w=(this.operator==="<="||this.operator==="<")&&(g.operator==="<="||g.operator==="<"),k=this.semver.version===g.semver.version,X=(this.operator===">="||this.operator==="<=")&&(g.operator===">="||g.operator==="<="),O=o(this.semver,"<",g.semver,v)&&(this.operator===">="||this.operator===">")&&(g.operator==="<="||g.operator==="<"),H=o(this.semver,">",g.semver,v)&&(this.operator==="<="||this.operator==="<")&&(g.operator===">="||g.operator===">");return T||w||k&&X||O||H}}pt=e;const t=We,{re:s,t:a}=fe.exports,o=br,l=He,c=z,p=Q();return pt}const Wi=Q(),zi=(r,e,t)=>{try{e=new Wi(e,t)}catch{return!1}return e.test(r)};var Ye=zi;const Ki=Q(),Yi=(r,e)=>new Ki(r,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));var Zi=Yi;const Ji=z,Qi=Q(),es=(r,e,t)=>{let s=null,a=null,o=null;try{o=new Qi(e,t)}catch{return null}return r.forEach(l=>{o.test(l)&&(!s||a.compare(l)===-1)&&(s=l,a=new Ji(s,t))}),s};var ts=es;const rs=z,ns=Q(),is=(r,e,t)=>{let s=null,a=null,o=null;try{o=new ns(e,t)}catch{return null}return r.forEach(l=>{o.test(l)&&(!s||a.compare(l)===1)&&(s=l,a=new rs(s,t))}),s};var ss=is;const dt=z,os=Q(),ir=ze,as=(r,e)=>{r=new os(r,e);let t=new dt("0.0.0");if(r.test(t)||(t=new dt("0.0.0-0"),r.test(t)))return t;t=null;for(let s=0;s<r.set.length;++s){const a=r.set[s];let o=null;a.forEach(l=>{const c=new dt(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||ir(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),o&&(!t||ir(t,o))&&(t=o)}return t&&r.test(t)?t:null};var us=as;const cs=Q(),ls=(r,e)=>{try{return new cs(r,e).range||"*"}catch{return null}};var fs=ls;const hs=z,Ur=Ke(),{ANY:ps}=Ur,ds=Q(),Es=Ye,sr=ze,or=Lt,gs=Nt,ys=$t,ms=(r,e,t,s)=>{r=new hs(r,s),e=new ds(e,s);let a,o,l,c,p;switch(t){case">":a=sr,o=gs,l=or,c=">",p=">=";break;case"<":a=or,o=ys,l=sr,c="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Es(r,e,s))return!1;for(let E=0;E<e.set.length;++E){const g=e.set[E];let v=null,T=null;if(g.forEach(w=>{w.semver===ps&&(w=new Ur(">=0.0.0")),v=v||w,T=T||w,a(w.semver,v.semver,s)?v=w:l(w.semver,T.semver,s)&&(T=w)}),v.operator===c||v.operator===p||(!T.operator||T.operator===c)&&o(r,T.semver))return!1;if(T.operator===p&&l(r,T.semver))return!1}return!0};var Bt=ms;const vs=Bt,ws=(r,e,t)=>vs(r,e,">",t);var Is=ws;const xs=Bt,Ts=(r,e,t)=>xs(r,e,"<",t);var As=Ts;const ar=Q(),Rs=(r,e,t)=>(r=new ar(r,t),e=new ar(e,t),r.intersects(e));var Ss=Rs;const Ls=Ye,$s=J;var Ns=(r,e,t)=>{const s=[];let a=null,o=null;const l=r.sort((g,v)=>$s(g,v,t));for(const g of l)Ls(g,e,t)?(o=g,a||(a=g)):(o&&s.push([a,o]),o=null,a=null);a&&s.push([a,null]);const c=[];for(const[g,v]of s)g===v?c.push(g):!v&&g===l[0]?c.push("*"):v?g===l[0]?c.push(`<=${v}`):c.push(`${g} - ${v}`):c.push(`>=${g}`);const p=c.join(" || "),E=typeof e.raw=="string"?e.raw:String(e);return p.length<E.length?p:e};const ur=Q(),Ge=Ke(),{ANY:Et}=Ge,Le=Ye,_t=J,Bs=(r,e,t={})=>{if(r===e)return!0;r=new ur(r,t),e=new ur(e,t);let s=!1;e:for(const a of r.set){for(const o of e.set){const l=_s(a,o,t);if(s=s||l!==null,l)continue e}if(s)return!1}return!0},_s=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Et){if(e.length===1&&e[0].semver===Et)return!0;t.includePrerelease?r=[new Ge(">=0.0.0-0")]:r=[new Ge(">=0.0.0")]}if(e.length===1&&e[0].semver===Et){if(t.includePrerelease)return!0;e=[new Ge(">=0.0.0")]}const s=new Set;let a,o;for(const w of r)w.operator===">"||w.operator===">="?a=cr(a,w,t):w.operator==="<"||w.operator==="<="?o=lr(o,w,t):s.add(w.semver);if(s.size>1)return null;let l;if(a&&o){if(l=_t(a.semver,o.semver,t),l>0)return null;if(l===0&&(a.operator!==">="||o.operator!=="<="))return null}for(const w of s){if(a&&!Le(w,String(a),t)||o&&!Le(w,String(o),t))return null;for(const k of e)if(!Le(w,String(k),t))return!1;return!0}let c,p,E,g,v=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,T=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1;v&&v.prerelease.length===1&&o.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const w of e){if(g=g||w.operator===">"||w.operator===">=",E=E||w.operator==="<"||w.operator==="<=",a){if(T&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===T.major&&w.semver.minor===T.minor&&w.semver.patch===T.patch&&(T=!1),w.operator===">"||w.operator===">="){if(c=cr(a,w,t),c===w&&c!==a)return!1}else if(a.operator===">="&&!Le(a.semver,String(w),t))return!1}if(o){if(v&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===v.major&&w.semver.minor===v.minor&&w.semver.patch===v.patch&&(v=!1),w.operator==="<"||w.operator==="<="){if(p=lr(o,w,t),p===w&&p!==o)return!1}else if(o.operator==="<="&&!Le(o.semver,String(w),t))return!1}if(!w.operator&&(o||a)&&l!==0)return!1}return!(a&&E&&!o&&l!==0||o&&g&&!a&&l!==0||T||v)},cr=(r,e,t)=>{if(!r)return e;const s=_t(r.semver,e.semver,t);return s>0?r:s<0||e.operator===">"&&r.operator===">="?e:r},lr=(r,e,t)=>{if(!r)return e;const s=_t(r.semver,e.semver,t);return s<0?r:s>0||e.operator==="<"&&r.operator==="<="?e:r};var Os=Bs;const gt=fe.exports,bs=Ve,Cs=z,fr=_r,Us=Ae,Fs=Cn,Ds=Dn,Ps=Mn,Ms=Vn,Gs=zn,js=Zn,ks=ei,Xs=ni,qs=J,Vs=oi,Hs=ci,Ws=St,zs=pi,Ks=gi,Ys=ze,Zs=Lt,Js=Rt,Qs=Or,eo=$t,to=Nt,ro=br,no=Di,io=Ke(),so=Q(),oo=Ye,ao=Zi,uo=ts,co=ss,lo=us,fo=fs,ho=Bt,po=Is,Eo=As,go=Ss,yo=Ns,mo=Os;var hr={parse:Us,valid:Fs,clean:Ds,inc:Ps,diff:Ms,major:Gs,minor:js,patch:ks,prerelease:Xs,compare:qs,rcompare:Vs,compareLoose:Hs,compareBuild:Ws,sort:zs,rsort:Ks,gt:Ys,lt:Zs,eq:Js,neq:Qs,gte:eo,lte:to,cmp:ro,coerce:no,Comparator:io,Range:so,satisfies:oo,toComparators:ao,maxSatisfying:uo,minSatisfying:co,minVersion:lo,validRange:fo,outside:ho,gtr:po,ltr:Eo,intersects:go,simplifyRange:yo,subset:mo,SemVer:Cs,re:gt.re,src:gt.src,tokens:gt.t,SEMVER_SPEC_VERSION:bs.SEMVER_SPEC_VERSION,compareIdentifiers:fr.compareIdentifiers,rcompareIdentifiers:fr.rcompareIdentifiers},wt=globalThis&&globalThis.__assign||function(){return wt=Object.assign||function(r){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},wt.apply(this,arguments)},he,V;(function(r){r.blue="blue",r.nanoS="nanoS",r.nanoSP="nanoSP",r.nanoX="nanoX",r.nanoFTS="nanoFTS"})(V||(V={}));var It=(he={},he[V.blue]={id:V.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(r){return 4*1024}},he[V.nanoS]={id:V.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(r){var e;return hr.lt((e=hr.coerce(r))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},he[V.nanoSP]={id:V.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(r){return 32}},he[V.nanoX]={id:V.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(r){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},he[V.nanoFTS]={id:V.nanoFTS,productName:"Ledger\xA0Nano\xA0FTS",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(r){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},he);V.blue,V.nanoS,V.nanoSP,V.nanoX,V.nanoFTS;var pr=Object.values(It),Fr=11415,dr=function(r){var e=pr.find(function(a){return a.legacyUsbProductId===r});if(e)return e;var t=r>>8,s=pr.find(function(a){return a.productIdMM===t});return s},vo=[],Er={};for(var wo in It){var gr=It[wo],yt=gr.bluetoothSpec;if(yt)for(var mt=0;mt<yt.length;mt++){var De=yt[mt];vo.push(De.serviceUuid),Er[De.serviceUuid]=Er[De.serviceUuid.replace(/-/g,"")]=wt({deviceModel:gr},De)}}var Io=0,ce=[],yr=function(r,e,t){var s={type:r,id:String(++Io),date:new Date};e&&(s.message=e),t&&(s.data=t),To(s)},xo=function(r){return ce.push(r),function(){var e=ce.indexOf(r);e!==-1&&(ce[e]=ce[ce.length-1],ce.pop())}};function To(r){for(var e=0;e<ce.length;e++)try{ce[e](r)}catch(t){console.error(t)}}typeof window<"u"&&(window.__ledgerLogsListen=xo);var Ao=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}(),se=globalThis&&globalThis.__awaiter||function(r,e,t,s){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(g){try{E(s.next(g))}catch(v){l(v)}}function p(g){try{E(s.throw(g))}catch(v){l(v)}}function E(g){g.done?o(g.value):a(g.value).then(c,p)}E((s=s.apply(r,e||[])).next())})},oe=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(E){return function(g){return p([E,g])}}function p(E){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,a&&(o=E[0]&2?a.return:E[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,E[1])).done)return o;switch(a=0,o&&(E=[E[0]&2,o.value]),E[0]){case 0:case 1:o=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,a=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!o||E[1]>o[0]&&E[1]<o[3])){t.label=E[1];break}if(E[0]===6&&t.label<o[1]){t.label=o[1],o=E;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(E);break}o[2]&&t.ops.pop(),t.trys.pop();continue}E=e.call(r,t)}catch(g){E=[6,g],a=0}finally{s=o=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Ro=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(l)throw l.error}}return o},So=[{vendorId:Fr}],Lo=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},ke=function(){var r=navigator.hid;if(!r)throw new le("navigator.hid is not supported","HIDNotSupported");return r};function Dr(){return se(this,void 0,void 0,function(){var r;return oe(this,function(e){switch(e.label){case 0:return[4,ke().requestDevice({filters:So})];case 1:return r=e.sent(),Array.isArray(r)?[2,r]:[2,[r]]}})})}function xt(){return se(this,void 0,void 0,function(){var r;return oe(this,function(e){switch(e.label){case 0:return[4,ke().getDevices()];case 1:return r=e.sent(),[2,r.filter(function(t){return t.vendorId===Fr})]}})})}function $o(){return se(this,void 0,void 0,function(){var r,e;return oe(this,function(t){switch(t.label){case 0:return[4,xt()];case 1:return r=t.sent(),r.length>0?[2,r[0]]:[4,Dr()];case 2:return e=t.sent(),[2,e[0]]}})})}var No=function(r){Ao(e,r);function e(t){var s=r.call(this)||this;return s.channel=Math.floor(Math.random()*65535),s.packetSize=64,s.inputs=[],s.read=function(){return s.inputs.length?Promise.resolve(s.inputs.shift()):new Promise(function(a){s.inputCallback=a})},s.onInputReport=function(a){var o=Buffer.from(a.data.buffer);s.inputCallback?(s.inputCallback(o),s.inputCallback=null):s.inputs.push(o)},s._disconnectEmitted=!1,s._emitDisconnect=function(a){s._disconnectEmitted||(s._disconnectEmitted=!0,s.emit("disconnect",a))},s.exchange=function(a){return se(s,void 0,void 0,function(){var o,l=this;return oe(this,function(c){switch(c.label){case 0:return[4,this.exchangeAtomicImpl(function(){return se(l,void 0,void 0,function(){var p,E,g,v,T,w,k,X,O;return oe(this,function(H){switch(H.label){case 0:p=this,E=p.channel,g=p.packetSize,yr("apdu","=> "+a.toString("hex")),v=vn(E,g),T=v.makeBlocks(a),w=0,H.label=1;case 1:return w<T.length?[4,this.device.sendReport(0,T[w])]:[3,4];case 2:H.sent(),H.label=3;case 3:return w++,[3,1];case 4:return(k=v.getReducedResult(X))?[3,6]:[4,this.read()];case 5:return O=H.sent(),X=v.reduceResponse(X,O),[3,4];case 6:return yr("apdu","<= "+k.toString("hex")),[2,k]}})})}).catch(function(p){throw p&&p.message&&p.message.includes("write")?(l._emitDisconnect(p),new ln(p.message)):p})];case 1:return o=c.sent(),[2,o]}})})},s.device=t,s.deviceModel=typeof t.productId=="number"?dr(t.productId):void 0,t.addEventListener("inputreport",s.onInputReport),s}return e.request=function(){return se(this,void 0,void 0,function(){var t,s;return oe(this,function(a){switch(a.label){case 0:return[4,Dr()];case 1:return t=Ro.apply(void 0,[a.sent(),1]),s=t[0],[2,e.open(s)]}})})},e.openConnected=function(){return se(this,void 0,void 0,function(){var t;return oe(this,function(s){switch(s.label){case 0:return[4,xt()];case 1:return t=s.sent(),t.length===0?[2,null]:[2,e.open(t[0])]}})})},e.open=function(t){return se(this,void 0,void 0,function(){var s,a;return oe(this,function(o){switch(o.label){case 0:return[4,t.open()];case 1:return o.sent(),s=new e(t),a=function(l){t===l.device&&(ke().removeEventListener("disconnect",a),s._emitDisconnect(new cn))},ke().addEventListener("disconnect",a),[2,s]}})})},e.prototype.close=function(){return se(this,void 0,void 0,function(){return oe(this,function(t){switch(t.label){case 0:return[4,this.exchangeBusyPromise];case 1:return t.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return t.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=Lo,e.list=xt,e.listen=function(t){var s=!1;$o().then(function(o){if(!o)t.error(new Gt("Access denied to use Ledger device"));else if(!s){var l=typeof o.productId=="number"?dr(o.productId):void 0;t.next({type:"add",descriptor:o,deviceModel:l}),t.complete()}},function(o){t.error(new Gt(o.message))});function a(){s=!0}return{unsubscribe:a}},e}(gn);const Pe=224,Bo=1,_o=2,Oo=3,bo=4,pe=36864,mr=27013,Co=27750,vr=27904;class Uo{constructor(e,t="l0v"){this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getConfiguration","getPublicKey","getAddress","signMessage"],t)}getConfiguration(){return this.transport.send(Pe,Bo,0,0).then(e=>{if(W.Buffer.from(e.slice(e.length-2)).readUInt16BE(0)===pe)return{configuration:e.slice()};throw new Error("Failed to get configuration")})}getPublicKey(e,t=!1){const s=W.Buffer.alloc(4);return s.writeUInt32BE(e),this.transport.send(Pe,_o,t?1:0,0,s,[pe]).then(a=>{if(W.Buffer.from(a.slice(a.length-2)).readUInt16BE(0)===pe)return{publicKey:a.slice(1,33)};throw new Error("Failed to get public key")})}getAddress(e,t,s=!1){const a=W.Buffer.alloc(8);return a.writeUInt32BE(e,0),a.writeUInt32BE(t,4),this.transport.send(Pe,bo,s?1:0,0,a,[pe]).then(o=>{if(W.Buffer.from(o.slice(o.length-2)).readUInt16BE(0)===pe)return{address:o.slice(1,33)};throw new Error("Failed to get address")})}signMessage(e,t,s){const a=W.Buffer.alloc(4);a.writeUInt32BE(e,0);const o=W.Buffer.alloc(16);if(s&&s.amount!=null&&s.decimals!=null){let T=BigInt(s.amount);const w=17,k=T.toString();let X=k.length,O=parseInt(s.decimals,10);if(X<=O)for(;O>w;)T/=BigInt(10),O-=1;else{const H=k.slice(-O);for(;O>0&&H[O-1]==="0";)T/=BigInt(10),X-=1,O-=1;for(;X+(O>0?1:0)>w;)T/=BigInt(10),X-=1,O>0&&(O-=1)}s.decimals=O,o.writeBigUInt64BE(T>>BigInt(64),0),o.writeBigUInt64BE(T&BigInt(18446744073709552e3),8)}const l=W.Buffer.alloc(1);s&&s.decimals!=null&&l.writeUInt8(parseInt(s.decimals,10),0);const c=W.Buffer.alloc(32);s&&s.asset&&(s.asset.includes("-LP-")?c.write("LP","utf-8"):s.asset.length>7?c.write(s.asset.substring(0,6)+"..","utf-8"):c.write(s.asset,"utf-8"));const p=W.Buffer.alloc(32),E=W.Buffer.alloc(1);if(s&&s.address){const T=s.address.split(":");E.writeInt8(parseInt(T[0]),0),p.write(T[1],"hex")}const g=[a,o,c,l,E,p,t],v=W.Buffer.concat(g);return this.transport.send(Pe,Oo,0,0,v,[pe,mr,Co,vr]).then(T=>{const w=W.Buffer.from(T.slice(T.length-2)).readUInt16BE(0);if(w===pe)return{signature:T.slice(1,T.length-2)};throw w===mr?new Error("Transaction approval request was rejected"):w===vr?new Error("Message signing is not supported"):new Error("Message signing not allowed. Have you enabled it in the app settings?")})}}class Fo{constructor(){this.addEventListeners()}addEventListeners(){window.addEventListener("message",async e=>{if(e&&e.data&&e.data.target==="LEDGER-IFRAME"){const{action:t,params:s}=e.data,a=`${t}-reply`;switch(t){case"ledger-get-configuration":await this.getConfiguration(a);break;case"ledger-get-public-key":await this.getPublicKey(a,s.account);break;case"ledger-get-address":await this.getAddress(a,s.account,s.contract);break;case"ledger-sign-message":await this.signMessage(a,s.account,s.message,s.context);break;case"ledger-close-bridge":await this.cleanUp(a);break}}},!1)}sendMessageToExtension(e){window.parent.postMessage(e,"*")}async makeApp(){try{this.transport=await No.create(),this.app=new Uo(this.transport)}catch(e){throw console.log("LEDGER:::CREATE APP ERROR",e),e}}async cleanUp(e){this.app=null,this.transport&&await this.transport.close(),e&&this.sendMessageToExtension({action:e,success:!0})}async getConfiguration(e){try{await this.makeApp();const t=await this.app.getConfiguration();this.sendMessageToExtension({action:e,success:!0,payload:t})}catch(t){const s=this.ledgerErrToMessage(t);this.sendMessageToExtension({action:e,success:!1,error:new Error(s.toString())})}finally{await this.cleanUp()}}async getPublicKey(e,t){try{await this.makeApp();const s=await this.app.getPublicKey(t);this.sendMessageToExtension({action:e,success:!0,payload:s})}catch(s){const a=this.ledgerErrToMessage(s);this.sendMessageToExtension({action:e,success:!1,error:new Error(a.toString())})}finally{await this.cleanUp()}}async getAddress(e,t,s){try{await this.makeApp();const a=await this.app.getAddress(t,s);this.sendMessageToExtension({action:e,success:!0,payload:a})}catch(a){const o=this.ledgerErrToMessage(a);this.sendMessageToExtension({action:e,success:!1,error:new Error(o.toString())})}finally{await this.cleanUp()}}async signMessage(e,t,s,a){try{await this.makeApp();const o=await this.app.signMessage(t,s,a);this.sendMessageToExtension({action:e,success:!0,payload:o})}catch(o){const l=this.ledgerErrToMessage(o);this.sendMessageToExtension({action:e,success:!1,error:new Error(l.toString())})}finally{await this.cleanUp()}}ledgerErrToMessage(e){const t=c=>String(c.message||c).includes("0x6700"),s=c=>String(c.message||c).includes("0x6804"),a=c=>c.name&&c.name.includes("TransportOpenUserCancelled"),o=c=>c.message&&c.message.includes("Message signing is not supported"),l=c=>c.message&&c.message.includes("Transaction approval request was rejected");return t(e)?"LEDGER_WRONG_APP":s(e)?"LEDGER_LOCKED":l(e)?"TRANSACTION_REJECTED":o(e)?"SIGN_NON_SUPPORTED":a(e)&&e.message&&e.message.includes("Access denied to use Ledger device")?"USER_DENIED":a(e)&&e.message&&e.message.includes("Failed to execute 'requestDevice' on 'HID'")?"USER_CANCELLED":e.toString()}}(()=>{const r=new Fo,e=document.getElementById("ledger-pairing-btn");e!=null&&e.addEventListener("click",()=>r.getConfiguration()),console.log(`EVER Wallet <=> Ledger Bridge initialized from ${window.location}!`)})();
