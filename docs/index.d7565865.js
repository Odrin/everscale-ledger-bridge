(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var V={},Ve={};Ve.byteLength=zr;Ve.toByteArray=Yr;Ve.fromByteArray=Qr;var te=[],K=[],Hr=typeof Uint8Array<"u"?Uint8Array:Array,ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ve=0,Wr=ct.length;ve<Wr;++ve)te[ve]=ct[ve],K[ct.charCodeAt(ve)]=ve;K["-".charCodeAt(0)]=62;K["_".charCodeAt(0)]=63;function Ir(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var s=t===e?0:4-t%4;return[t,s]}function zr(r){var e=Ir(r),t=e[0],s=e[1];return(t+s)*3/4-s}function Kr(r,e,t){return(e+t)*3/4-t}function Yr(r){var e,t=Ir(r),s=t[0],a=t[1],o=new Hr(Kr(r,s,a)),l=0,u=a>0?s-4:s,p;for(p=0;p<u;p+=4)e=K[r.charCodeAt(p)]<<18|K[r.charCodeAt(p+1)]<<12|K[r.charCodeAt(p+2)]<<6|K[r.charCodeAt(p+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=e&255;return a===2&&(e=K[r.charCodeAt(p)]<<2|K[r.charCodeAt(p+1)]>>4,o[l++]=e&255),a===1&&(e=K[r.charCodeAt(p)]<<10|K[r.charCodeAt(p+1)]<<4|K[r.charCodeAt(p+2)]>>2,o[l++]=e>>8&255,o[l++]=e&255),o}function Zr(r){return te[r>>18&63]+te[r>>12&63]+te[r>>6&63]+te[r&63]}function Jr(r,e,t){for(var s,a=[],o=e;o<t;o+=3)s=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),a.push(Zr(s));return a.join("")}function Qr(r){for(var e,t=r.length,s=t%3,a=[],o=16383,l=0,u=t-s;l<u;l+=o)a.push(Jr(r,l,l+o>u?u:l+o));return s===1?(e=r[t-1],a.push(te[e>>2]+te[e<<4&63]+"==")):s===2&&(e=(r[t-2]<<8)+r[t-1],a.push(te[e>>10]+te[e>>4&63]+te[e<<2&63]+"=")),a.join("")}var Rt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Rt.read=function(r,e,t,s,a){var o,l,u=a*8-s-1,p=(1<<u)-1,g=p>>1,E=-7,v=t?a-1:0,R=t?-1:1,I=r[e+v];for(v+=R,o=I&(1<<-E)-1,I>>=-E,E+=u;E>0;o=o*256+r[e+v],v+=R,E-=8);for(l=o&(1<<-E)-1,o>>=-E,E+=s;E>0;l=l*256+r[e+v],v+=R,E-=8);if(o===0)o=1-g;else{if(o===p)return l?NaN:(I?-1:1)*(1/0);l=l+Math.pow(2,s),o=o-g}return(I?-1:1)*l*Math.pow(2,o-s)};Rt.write=function(r,e,t,s,a,o){var l,u,p,g=o*8-a-1,E=(1<<g)-1,v=E>>1,R=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=s?0:o-1,X=s?1:-1,W=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=E):(l=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+v>=1?e+=R/p:e+=R*Math.pow(2,1-v),e*p>=2&&(l++,p/=2),l+v>=E?(u=0,l=E):l+v>=1?(u=(e*p-1)*Math.pow(2,a),l=l+v):(u=e*Math.pow(2,v-1)*Math.pow(2,a),l=0));a>=8;r[t+I]=u&255,I+=X,u/=256,a-=8);for(l=l<<a|u,g+=a;g>0;r[t+I]=l&255,I+=X,l/=256,g-=8);r[t+I-X]|=W*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Ve,t=Rt,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=Qe,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const c=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(c,n),c.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function l(c){if(c>a)throw new RangeError('The value "'+c+'" is invalid for option "size"');const n=new Uint8Array(c);return Object.setPrototypeOf(n,u.prototype),n}function u(c,n,i){if(typeof c=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(c)}return p(c,n,i)}u.poolSize=8192;function p(c,n,i){if(typeof c=="string")return R(c,n);if(ArrayBuffer.isView(c))return X(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(ee(c,ArrayBuffer)||c&&ee(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(c,SharedArrayBuffer)||c&&ee(c.buffer,SharedArrayBuffer)))return W(c,n,i);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const f=c.valueOf&&c.valueOf();if(f!=null&&f!==c)return u.from(f,n,i);const h=M(c);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return u.from(c[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}u.from=function(c,n,i){return p(c,n,i)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function g(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function E(c,n,i){return g(c),c<=0?l(c):n!==void 0?typeof i=="string"?l(c).fill(n,i):l(c).fill(n):l(c)}u.alloc=function(c,n,i){return E(c,n,i)};function v(c){return g(c),l(c<0?0:z(c)|0)}u.allocUnsafe=function(c){return v(c)},u.allocUnsafeSlow=function(c){return v(c)};function R(c,n){if((typeof n!="string"||n==="")&&(n="utf8"),!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const i=Be(c,n)|0;let f=l(i);const h=f.write(c,n);return h!==i&&(f=f.slice(0,h)),f}function I(c){const n=c.length<0?0:z(c.length)|0,i=l(n);for(let f=0;f<n;f+=1)i[f]=c[f]&255;return i}function X(c){if(ee(c,Uint8Array)){const n=new Uint8Array(c);return W(n.buffer,n.byteOffset,n.byteLength)}return I(c)}function W(c,n,i){if(n<0||c.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');let f;return n===void 0&&i===void 0?f=new Uint8Array(c):i===void 0?f=new Uint8Array(c,n):f=new Uint8Array(c,n,i),Object.setPrototypeOf(f,u.prototype),f}function M(c){if(u.isBuffer(c)){const n=z(c.length)|0,i=l(n);return i.length===0||c.copy(i,0,0,n),i}if(c.length!==void 0)return typeof c.length!="number"||at(c.length)?l(0):I(c);if(c.type==="Buffer"&&Array.isArray(c.data))return I(c.data)}function z(c){if(c>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return c|0}function Qe(c){return+c!=c&&(c=0),u.alloc(+c)}u.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==u.prototype},u.compare=function(n,i){if(ee(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),ee(i,Uint8Array)&&(i=u.from(i,i.offset,i.byteLength)),!u.isBuffer(n)||!u.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;let f=n.length,h=i.length;for(let d=0,y=Math.min(f,h);d<y;++d)if(n[d]!==i[d]){f=n[d],h=i[d];break}return f<h?-1:h<f?1:0},u.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return u.alloc(0);let f;if(i===void 0)for(i=0,f=0;f<n.length;++f)i+=n[f].length;const h=u.allocUnsafe(i);let d=0;for(f=0;f<n.length;++f){let y=n[f];if(ee(y,Uint8Array))d+y.length>h.length?(u.isBuffer(y)||(y=u.from(y)),y.copy(h,d)):Uint8Array.prototype.set.call(h,y,d);else if(u.isBuffer(y))y.copy(h,d);else throw new TypeError('"list" argument must be an Array of Buffers');d+=y.length}return h};function Be(c,n){if(u.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||ee(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const i=c.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;let h=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return ot(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Mt(c).length;default:if(h)return f?-1:ot(c).length;n=(""+n).toLowerCase(),h=!0}}u.byteLength=Be;function et(c,n,i){let f=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,n>>>=0,i<=n))return"";for(c||(c="utf8");;)switch(c){case"hex":return N(this,n,i);case"utf8":case"utf-8":return A(this,n,i);case"ascii":return L(this,n,i);case"latin1":case"binary":return C(this,n,i);case"base64":return $(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,n,i);default:if(f)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),f=!0}}u.prototype._isBuffer=!0;function re(c,n,i){const f=c[n];c[n]=c[i],c[i]=f}u.prototype.swap16=function(){const n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<n;i+=2)re(this,i,i+1);return this},u.prototype.swap32=function(){const n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<n;i+=4)re(this,i,i+3),re(this,i+1,i+2);return this},u.prototype.swap64=function(){const n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<n;i+=8)re(this,i,i+7),re(this,i+1,i+6),re(this,i+2,i+5),re(this,i+3,i+4);return this},u.prototype.toString=function(){const n=this.length;return n===0?"":arguments.length===0?A(this,0,n):et.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(n){if(!u.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:u.compare(this,n)===0},u.prototype.inspect=function(){let n="";const i=r.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(n,i,f,h,d){if(ee(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),f===void 0&&(f=n?n.length:0),h===void 0&&(h=0),d===void 0&&(d=this.length),i<0||f>n.length||h<0||d>this.length)throw new RangeError("out of range index");if(h>=d&&i>=f)return 0;if(h>=d)return-1;if(i>=f)return 1;if(i>>>=0,f>>>=0,h>>>=0,d>>>=0,this===n)return 0;let y=d-h,B=f-i;const G=Math.min(y,B),P=this.slice(h,d),j=n.slice(i,f);for(let F=0;F<G;++F)if(P[F]!==j[F]){y=P[F],B=j[F];break}return y<B?-1:B<y?1:0};function _e(c,n,i,f,h){if(c.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,at(i)&&(i=h?0:c.length-1),i<0&&(i=c.length+i),i>=c.length){if(h)return-1;i=c.length-1}else if(i<0)if(h)i=0;else return-1;if(typeof n=="string"&&(n=u.from(n,f)),u.isBuffer(n))return n.length===0?-1:Oe(c,n,i,f,h);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(c,n,i):Uint8Array.prototype.lastIndexOf.call(c,n,i):Oe(c,[n],i,f,h);throw new TypeError("val must be string, number or Buffer")}function Oe(c,n,i,f,h){let d=1,y=c.length,B=n.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(c.length<2||n.length<2)return-1;d=2,y/=2,B/=2,i/=2}function G(j,F){return d===1?j[F]:j.readUInt16BE(F*d)}let P;if(h){let j=-1;for(P=i;P<y;P++)if(G(c,P)===G(n,j===-1?0:P-j)){if(j===-1&&(j=P),P-j+1===B)return j*d}else j!==-1&&(P-=P-j),j=-1}else for(i+B>y&&(i=y-B),P=i;P>=0;P--){let j=!0;for(let F=0;F<B;F++)if(G(c,P+F)!==G(n,F)){j=!1;break}if(j)return P}return-1}u.prototype.includes=function(n,i,f){return this.indexOf(n,i,f)!==-1},u.prototype.indexOf=function(n,i,f){return _e(this,n,i,f,!0)},u.prototype.lastIndexOf=function(n,i,f){return _e(this,n,i,f,!1)};function tt(c,n,i,f){i=Number(i)||0;const h=c.length-i;f?(f=Number(f),f>h&&(f=h)):f=h;const d=n.length;f>d/2&&(f=d/2);let y;for(y=0;y<f;++y){const B=parseInt(n.substr(y*2,2),16);if(at(B))return y;c[i+y]=B}return y}function rt(c,n,i,f){return be(ot(n,c.length-i),c,i,f)}function nt(c,n,i,f){return be(kr(n),c,i,f)}function x(c,n,i,f){return be(Mt(n),c,i,f)}function w(c,n,i,f){return be(Xr(n,c.length-i),c,i,f)}u.prototype.write=function(n,i,f,h){if(i===void 0)h="utf8",f=this.length,i=0;else if(f===void 0&&typeof i=="string")h=i,f=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(f)?(f=f>>>0,h===void 0&&(h="utf8")):(h=f,f=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const d=this.length-i;if((f===void 0||f>d)&&(f=d),n.length>0&&(f<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let y=!1;for(;;)switch(h){case"hex":return tt(this,n,i,f);case"utf8":case"utf-8":return rt(this,n,i,f);case"ascii":case"latin1":case"binary":return nt(this,n,i,f);case"base64":return x(this,n,i,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,n,i,f);default:if(y)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),y=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(c,n,i){return n===0&&i===c.length?e.fromByteArray(c):e.fromByteArray(c.slice(n,i))}function A(c,n,i){i=Math.min(c.length,i);const f=[];let h=n;for(;h<i;){const d=c[h];let y=null,B=d>239?4:d>223?3:d>191?2:1;if(h+B<=i){let G,P,j,F;switch(B){case 1:d<128&&(y=d);break;case 2:G=c[h+1],(G&192)===128&&(F=(d&31)<<6|G&63,F>127&&(y=F));break;case 3:G=c[h+1],P=c[h+2],(G&192)===128&&(P&192)===128&&(F=(d&15)<<12|(G&63)<<6|P&63,F>2047&&(F<55296||F>57343)&&(y=F));break;case 4:G=c[h+1],P=c[h+2],j=c[h+3],(G&192)===128&&(P&192)===128&&(j&192)===128&&(F=(d&15)<<18|(G&63)<<12|(P&63)<<6|j&63,F>65535&&F<1114112&&(y=F))}}y===null?(y=65533,B=1):y>65535&&(y-=65536,f.push(y>>>10&1023|55296),y=56320|y&1023),f.push(y),h+=B}return T(f)}const S=4096;function T(c){const n=c.length;if(n<=S)return String.fromCharCode.apply(String,c);let i="",f=0;for(;f<n;)i+=String.fromCharCode.apply(String,c.slice(f,f+=S));return i}function L(c,n,i){let f="";i=Math.min(c.length,i);for(let h=n;h<i;++h)f+=String.fromCharCode(c[h]&127);return f}function C(c,n,i){let f="";i=Math.min(c.length,i);for(let h=n;h<i;++h)f+=String.fromCharCode(c[h]);return f}function N(c,n,i){const f=c.length;(!n||n<0)&&(n=0),(!i||i<0||i>f)&&(i=f);let h="";for(let d=n;d<i;++d)h+=qr[c[d]];return h}function D(c,n,i){const f=c.slice(n,i);let h="";for(let d=0;d<f.length-1;d+=2)h+=String.fromCharCode(f[d]+f[d+1]*256);return h}u.prototype.slice=function(n,i){const f=this.length;n=~~n,i=i===void 0?f:~~i,n<0?(n+=f,n<0&&(n=0)):n>f&&(n=f),i<0?(i+=f,i<0&&(i=0)):i>f&&(i=f),i<n&&(i=n);const h=this.subarray(n,i);return Object.setPrototypeOf(h,u.prototype),h};function O(c,n,i){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+n>i)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(n,i,f){n=n>>>0,i=i>>>0,f||O(n,i,this.length);let h=this[n],d=1,y=0;for(;++y<i&&(d*=256);)h+=this[n+y]*d;return h},u.prototype.readUintBE=u.prototype.readUIntBE=function(n,i,f){n=n>>>0,i=i>>>0,f||O(n,i,this.length);let h=this[n+--i],d=1;for(;i>0&&(d*=256);)h+=this[n+--i]*d;return h},u.prototype.readUint8=u.prototype.readUInt8=function(n,i){return n=n>>>0,i||O(n,1,this.length),this[n]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||O(n,2,this.length),this[n]|this[n+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||O(n,2,this.length),this[n]<<8|this[n+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||O(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||O(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},u.prototype.readBigUInt64LE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24,d=this[++n]+this[++n]*2**8+this[++n]*2**16+f*2**24;return BigInt(h)+(BigInt(d)<<BigInt(32))}),u.prototype.readBigUInt64BE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=i*2**24+this[++n]*2**16+this[++n]*2**8+this[++n],d=this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+f;return(BigInt(h)<<BigInt(32))+BigInt(d)}),u.prototype.readIntLE=function(n,i,f){n=n>>>0,i=i>>>0,f||O(n,i,this.length);let h=this[n],d=1,y=0;for(;++y<i&&(d*=256);)h+=this[n+y]*d;return d*=128,h>=d&&(h-=Math.pow(2,8*i)),h},u.prototype.readIntBE=function(n,i,f){n=n>>>0,i=i>>>0,f||O(n,i,this.length);let h=i,d=1,y=this[n+--h];for(;h>0&&(d*=256);)y+=this[n+--h]*d;return d*=128,y>=d&&(y-=Math.pow(2,8*i)),y},u.prototype.readInt8=function(n,i){return n=n>>>0,i||O(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},u.prototype.readInt16LE=function(n,i){n=n>>>0,i||O(n,2,this.length);const f=this[n]|this[n+1]<<8;return f&32768?f|4294901760:f},u.prototype.readInt16BE=function(n,i){n=n>>>0,i||O(n,2,this.length);const f=this[n+1]|this[n]<<8;return f&32768?f|4294901760:f},u.prototype.readInt32LE=function(n,i){return n=n>>>0,i||O(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},u.prototype.readInt32BE=function(n,i){return n=n>>>0,i||O(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},u.prototype.readBigInt64LE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=this[n+4]+this[n+5]*2**8+this[n+6]*2**16+(f<<24);return(BigInt(h)<<BigInt(32))+BigInt(i+this[++n]*2**8+this[++n]*2**16+this[++n]*2**24)}),u.prototype.readBigInt64BE=ue(function(n){n=n>>>0,me(n,"offset");const i=this[n],f=this[n+7];(i===void 0||f===void 0)&&Re(n,this.length-8);const h=(i<<24)+this[++n]*2**16+this[++n]*2**8+this[++n];return(BigInt(h)<<BigInt(32))+BigInt(this[++n]*2**24+this[++n]*2**16+this[++n]*2**8+f)}),u.prototype.readFloatLE=function(n,i){return n=n>>>0,i||O(n,4,this.length),t.read(this,n,!0,23,4)},u.prototype.readFloatBE=function(n,i){return n=n>>>0,i||O(n,4,this.length),t.read(this,n,!1,23,4)},u.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||O(n,8,this.length),t.read(this,n,!0,52,8)},u.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||O(n,8,this.length),t.read(this,n,!1,52,8)};function _(c,n,i,f,h,d){if(!u.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>h||n<d)throw new RangeError('"value" argument is out of bounds');if(i+f>c.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(n,i,f,h){if(n=+n,i=i>>>0,f=f>>>0,!h){const B=Math.pow(2,8*f)-1;_(this,n,i,f,B,0)}let d=1,y=0;for(this[i]=n&255;++y<f&&(d*=256);)this[i+y]=n/d&255;return i+f},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(n,i,f,h){if(n=+n,i=i>>>0,f=f>>>0,!h){const B=Math.pow(2,8*f)-1;_(this,n,i,f,B,0)}let d=f-1,y=1;for(this[i+d]=n&255;--d>=0&&(y*=256);)this[i+d]=n/y&255;return i+f},u.prototype.writeUint8=u.prototype.writeUInt8=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,1,255,0),this[i]=n&255,i+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function ce(c,n,i,f,h){Pt(n,f,h,c,i,7);let d=Number(n&BigInt(4294967295));c[i++]=d,d=d>>8,c[i++]=d,d=d>>8,c[i++]=d,d=d>>8,c[i++]=d;let y=Number(n>>BigInt(32)&BigInt(4294967295));return c[i++]=y,y=y>>8,c[i++]=y,y=y>>8,c[i++]=y,y=y>>8,c[i++]=y,i}function it(c,n,i,f,h){Pt(n,f,h,c,i,7);let d=Number(n&BigInt(4294967295));c[i+7]=d,d=d>>8,c[i+6]=d,d=d>>8,c[i+5]=d,d=d>>8,c[i+4]=d;let y=Number(n>>BigInt(32)&BigInt(4294967295));return c[i+3]=y,y=y>>8,c[i+2]=y,y=y>>8,c[i+1]=y,y=y>>8,c[i]=y,i+8}u.prototype.writeBigUInt64LE=ue(function(n,i=0){return ce(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=ue(function(n,i=0){return it(this,n,i,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(n,i,f,h){if(n=+n,i=i>>>0,!h){const G=Math.pow(2,8*f-1);_(this,n,i,f,G-1,-G)}let d=0,y=1,B=0;for(this[i]=n&255;++d<f&&(y*=256);)n<0&&B===0&&this[i+d-1]!==0&&(B=1),this[i+d]=(n/y>>0)-B&255;return i+f},u.prototype.writeIntBE=function(n,i,f,h){if(n=+n,i=i>>>0,!h){const G=Math.pow(2,8*f-1);_(this,n,i,f,G-1,-G)}let d=f-1,y=1,B=0;for(this[i+d]=n&255;--d>=0&&(y*=256);)n<0&&B===0&&this[i+d+1]!==0&&(B=1),this[i+d]=(n/y>>0)-B&255;return i+f},u.prototype.writeInt8=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1},u.prototype.writeInt16LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2},u.prototype.writeInt16BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2},u.prototype.writeInt32LE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4},u.prototype.writeInt32BE=function(n,i,f){return n=+n,i=i>>>0,f||_(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4},u.prototype.writeBigInt64LE=ue(function(n,i=0){return ce(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=ue(function(n,i=0){return it(this,n,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ct(c,n,i,f,h,d){if(i+f>c.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Ut(c,n,i,f,h){return n=+n,i=i>>>0,h||Ct(c,n,i,4),t.write(c,n,i,f,23,4),i+4}u.prototype.writeFloatLE=function(n,i,f){return Ut(this,n,i,!0,f)},u.prototype.writeFloatBE=function(n,i,f){return Ut(this,n,i,!1,f)};function Ft(c,n,i,f,h){return n=+n,i=i>>>0,h||Ct(c,n,i,8),t.write(c,n,i,f,52,8),i+8}u.prototype.writeDoubleLE=function(n,i,f){return Ft(this,n,i,!0,f)},u.prototype.writeDoubleBE=function(n,i,f){return Ft(this,n,i,!1,f)},u.prototype.copy=function(n,i,f,h){if(!u.isBuffer(n))throw new TypeError("argument should be a Buffer");if(f||(f=0),!h&&h!==0&&(h=this.length),i>=n.length&&(i=n.length),i||(i=0),h>0&&h<f&&(h=f),h===f||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),n.length-i<h-f&&(h=n.length-i+f);const d=h-f;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,f,h):Uint8Array.prototype.set.call(n,this.subarray(f,h),i),d},u.prototype.fill=function(n,i,f,h){if(typeof n=="string"){if(typeof i=="string"?(h=i,i=0,f=this.length):typeof f=="string"&&(h=f,f=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!u.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(n.length===1){const y=n.charCodeAt(0);(h==="utf8"&&y<128||h==="latin1")&&(n=y)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<f)throw new RangeError("Out of range index");if(f<=i)return this;i=i>>>0,f=f===void 0?this.length:f>>>0,n||(n=0);let d;if(typeof n=="number")for(d=i;d<f;++d)this[d]=n;else{const y=u.isBuffer(n)?n:u.from(n,h),B=y.length;if(B===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(d=0;d<f-i;++d)this[d+i]=y[d%B]}return this};const ye={};function st(c,n,i){ye[c]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}st("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),st("ERR_INVALID_ARG_TYPE",function(c,n){return`The "${c}" argument must be of type number. Received type ${typeof n}`},TypeError),st("ERR_OUT_OF_RANGE",function(c,n,i){let f=`The value of "${c}" is out of range.`,h=i;return Number.isInteger(i)&&Math.abs(i)>2**32?h=Dt(String(i)):typeof i=="bigint"&&(h=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(h=Dt(h)),h+="n"),f+=` It must be ${n}. Received ${h}`,f},RangeError);function Dt(c){let n="",i=c.length;const f=c[0]==="-"?1:0;for(;i>=f+4;i-=3)n=`_${c.slice(i-3,i)}${n}`;return`${c.slice(0,i)}${n}`}function Mr(c,n,i){me(n,"offset"),(c[n]===void 0||c[n+i]===void 0)&&Re(n,c.length-(i+1))}function Pt(c,n,i,f,h,d){if(c>i||c<n){const y=typeof n=="bigint"?"n":"";let B;throw d>3?n===0||n===BigInt(0)?B=`>= 0${y} and < 2${y} ** ${(d+1)*8}${y}`:B=`>= -(2${y} ** ${(d+1)*8-1}${y}) and < 2 ** ${(d+1)*8-1}${y}`:B=`>= ${n}${y} and <= ${i}${y}`,new ye.ERR_OUT_OF_RANGE("value",B,c)}Mr(f,h,d)}function me(c,n){if(typeof c!="number")throw new ye.ERR_INVALID_ARG_TYPE(n,"number",c)}function Re(c,n,i){throw Math.floor(c)!==c?(me(c,i),new ye.ERR_OUT_OF_RANGE(i||"offset","an integer",c)):n<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${n}`,c)}const Gr=/[^+/0-9A-Za-z-_]/g;function jr(c){if(c=c.split("=")[0],c=c.trim().replace(Gr,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function ot(c,n){n=n||1/0;let i;const f=c.length;let h=null;const d=[];for(let y=0;y<f;++y){if(i=c.charCodeAt(y),i>55295&&i<57344){if(!h){if(i>56319){(n-=3)>-1&&d.push(239,191,189);continue}else if(y+1===f){(n-=3)>-1&&d.push(239,191,189);continue}h=i;continue}if(i<56320){(n-=3)>-1&&d.push(239,191,189),h=i;continue}i=(h-55296<<10|i-56320)+65536}else h&&(n-=3)>-1&&d.push(239,191,189);if(h=null,i<128){if((n-=1)<0)break;d.push(i)}else if(i<2048){if((n-=2)<0)break;d.push(i>>6|192,i&63|128)}else if(i<65536){if((n-=3)<0)break;d.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((n-=4)<0)break;d.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return d}function kr(c){const n=[];for(let i=0;i<c.length;++i)n.push(c.charCodeAt(i)&255);return n}function Xr(c,n){let i,f,h;const d=[];for(let y=0;y<c.length&&!((n-=2)<0);++y)i=c.charCodeAt(y),f=i>>8,h=i%256,d.push(h),d.push(f);return d}function Mt(c){return e.toByteArray(jr(c))}function be(c,n,i,f){let h;for(h=0;h<f&&!(h+i>=n.length||h>=c.length);++h)n[h+i]=c[h];return h}function ee(c,n){return c instanceof n||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===n.name}function at(c){return c!==c}const qr=function(){const c="0123456789abcdef",n=new Array(256);for(let i=0;i<16;++i){const f=i*16;for(let h=0;h<16;++h)n[f+h]=c[i]+c[h]}return n}();function ue(c){return typeof BigInt>"u"?Vr:c}function Vr(){throw new Error("BigInt not supported")}})(V);window.Buffer=V.Buffer;var St={exports:{}},xe=typeof Reflect=="object"?Reflect:null,Gt=xe&&typeof xe.apply=="function"?xe.apply:function(e,t,s){return Function.prototype.apply.call(e,t,s)},je;xe&&typeof xe.ownKeys=="function"?je=xe.ownKeys:Object.getOwnPropertySymbols?je=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:je=function(e){return Object.getOwnPropertyNames(e)};function en(r){console&&console.warn&&console.warn(r)}var xr=Number.isNaN||function(e){return e!==e};function U(){U.init.call(this)}St.exports=U;St.exports.once=sn;U.EventEmitter=U;U.prototype._events=void 0;U.prototype._eventsCount=0;U.prototype._maxListeners=void 0;var jt=10;function He(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(U,"defaultMaxListeners",{enumerable:!0,get:function(){return jt},set:function(r){if(typeof r!="number"||r<0||xr(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");jt=r}});U.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};U.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||xr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Tr(r){return r._maxListeners===void 0?U.defaultMaxListeners:r._maxListeners}U.prototype.getMaxListeners=function(){return Tr(this)};U.prototype.emit=function(e){for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);var a=e==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var l;if(t.length>0&&(l=t[0]),l instanceof Error)throw l;var u=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw u.context=l,u}var p=o[e];if(p===void 0)return!1;if(typeof p=="function")Gt(p,this,t);else for(var g=p.length,E=Lr(p,g),s=0;s<g;++s)Gt(E[s],this,t);return!0};function Ar(r,e,t,s){var a,o,l;if(He(t),o=r._events,o===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),l=o[e]),l===void 0)l=o[e]=t,++r._eventsCount;else if(typeof l=="function"?l=o[e]=s?[t,l]:[l,t]:s?l.unshift(t):l.push(t),a=Tr(r),a>0&&l.length>a&&!l.warned){l.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=r,u.type=e,u.count=l.length,en(u)}return r}U.prototype.addListener=function(e,t){return Ar(this,e,t,!1)};U.prototype.on=U.prototype.addListener;U.prototype.prependListener=function(e,t){return Ar(this,e,t,!0)};function tn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rr(r,e,t){var s={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},a=tn.bind(s);return a.listener=t,s.wrapFn=a,a}U.prototype.once=function(e,t){return He(t),this.on(e,Rr(this,e,t)),this};U.prototype.prependOnceListener=function(e,t){return He(t),this.prependListener(e,Rr(this,e,t)),this};U.prototype.removeListener=function(e,t){var s,a,o,l,u;if(He(t),a=this._events,a===void 0)return this;if(s=a[e],s===void 0)return this;if(s===t||s.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,s.listener||t));else if(typeof s!="function"){for(o=-1,l=s.length-1;l>=0;l--)if(s[l]===t||s[l].listener===t){u=s[l].listener,o=l;break}if(o<0)return this;o===0?s.shift():rn(s,o),s.length===1&&(a[e]=s[0]),a.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this};U.prototype.off=U.prototype.removeListener;U.prototype.removeAllListeners=function(e){var t,s,a;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[e]),this;if(arguments.length===0){var o=Object.keys(s),l;for(a=0;a<o.length;++a)l=o[a],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=s[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this};function Sr(r,e,t){var s=r._events;if(s===void 0)return[];var a=s[e];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?nn(a):Lr(a,a.length)}U.prototype.listeners=function(e){return Sr(this,e,!0)};U.prototype.rawListeners=function(e){return Sr(this,e,!1)};U.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):$r.call(r,e)};U.prototype.listenerCount=$r;function $r(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}U.prototype.eventNames=function(){return this._eventsCount>0?je(this._events):[]};function Lr(r,e){for(var t=new Array(e),s=0;s<e;++s)t[s]=r[s];return t}function rn(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function nn(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function sn(r,e){return new Promise(function(t,s){function a(l){r.removeListener(e,o),s(l)}function o(){typeof r.removeListener=="function"&&r.removeListener("error",a),t([].slice.call(arguments))}Nr(r,e,o,{once:!0}),e!=="error"&&on(r,a,{once:!0})})}function on(r,e,t){typeof r.on=="function"&&Nr(r,"error",e,t)}function Nr(r,e,t,s){if(typeof r.on=="function")s.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function a(o){s.once&&r.removeEventListener(e,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var an=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();globalThis&&globalThis.__values;var m=function(r){var e=function(t){an(s,t);function s(a,o,l){var u=t.call(this,a||r,l)||this;if(Object.setPrototypeOf(u,s.prototype),u.name=r,o)for(var p in o)u[p]=o[p];if(cn(l)&&"cause"in l&&!("cause"in u)){var g=l.cause;u.cause=g,"stack"in g&&(u.stack=u.stack+`
CAUSE: `+g.stack)}return u}return s}(Error);return e};function cn(r){return r!==null&&typeof r=="object"}var un=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();m("AccountNameRequired");m("AccountNotSupported");m("AmountRequired");m("BluetoothRequired");m("BtcUnmatchedApp");m("CantOpenDevice");m("CashAddrNotSupported");m("CurrencyNotSupported");m("DeviceAppVerifyNotSupported");m("DeviceGenuineSocketEarlyClose");m("DeviceNotGenuine");m("DeviceOnDashboardExpected");m("DeviceOnDashboardUnexpected");m("DeviceInOSUExpected");m("DeviceHalted");m("DeviceNameInvalid");m("DeviceSocketFail");m("DeviceSocketNoBulkStatus");var ln=m("DisconnectedDevice"),fn=m("DisconnectedDeviceDuringOperation");m("DeviceExtractOnboardingStateError");m("DeviceOnboardingStatePollingError");m("EnpointConfig");m("EthAppPleaseEnableContractData");m("FeeEstimationFailed");m("FirmwareNotRecognized");m("HardResetFail");m("InvalidXRPTag");m("InvalidAddress");m("InvalidAddressBecauseDestinationIsAlsoSource");m("LatestMCUInstalledError");m("UnknownMCU");m("LedgerAPIError");m("LedgerAPIErrorWithMessage");m("LedgerAPINotAvailable");m("ManagerAppAlreadyInstalled");m("ManagerAppRelyOnBTC");m("ManagerAppDepInstallRequired");m("ManagerAppDepUninstallRequired");m("ManagerDeviceLocked");m("ManagerFirmwareNotEnoughSpace");m("ManagerNotEnoughSpace");m("ManagerUninstallBTCDep");m("NetworkDown");m("NoAddressesFound");m("NotEnoughBalance");m("NotEnoughBalanceToDelegate");m("NotEnoughBalanceInParentAccount");m("NotEnoughSpendableBalance");m("NotEnoughBalanceBecauseDestinationNotCreated");m("NoAccessToCamera");m("NotEnoughGas");m("NotSupportedLegacyAddress");m("GasLessThanEstimate");m("PasswordsDontMatch");m("PasswordIncorrect");m("RecommendSubAccountsToEmpty");m("RecommendUndelegation");m("TimeoutTagged");m("UnexpectedBootloader");m("MCUNotGenuineToDashboard");m("RecipientRequired");m("UnavailableTezosOriginatedAccountReceive");m("UnavailableTezosOriginatedAccountSend");m("UpdateFetchFileFail");m("UpdateIncorrectHash");m("UpdateIncorrectSig");m("UpdateYourApp");m("UserRefusedDeviceNameChange");m("UserRefusedAddress");m("UserRefusedFirmwareUpdate");m("UserRefusedAllowManager");m("UserRefusedOnDevice");var kt=m("TransportOpenUserCancelled");m("TransportInterfaceNotAvailable");var hn=m("TransportRaceCondition");m("TransportWebUSBGestureRequired");m("DeviceShouldStayInApp");m("WebsocketConnectionError");m("WebsocketConnectionFailed");m("WrongDeviceForAccount");m("WrongAppForCurrency");m("ETHAddressNonEIP");m("CantScanQRCode");m("FeeNotLoaded");m("FeeRequired");m("FeeTooHigh");m("PendingOperation");m("SyncError");m("PairingFailed");m("GenuineCheckFailed");m("LedgerAPI4xx");m("LedgerAPI5xx");m("FirmwareOrAppUpdateRequired");m("LanguageNotFound");m("NoDBPathGiven");m("DBWrongPassword");m("DBNotReset");var fe=function(r){un(e,r);function e(t,s){var a=this,o="TransportError";return a=r.call(this,t||o)||this,a.name=o,a.message=t,a.stack=new Error().stack,a.id=s,a}return e}(Error),It={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function pn(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=r&&r<=28671)return"Internal error, please report"}function Br(r){this.name="TransportStatusError";var e=Object.keys(It).find(function(a){return It[a]===r})||"UNKNOWN_ERROR",t=pn(r)||e,s=r.toString(16);this.message="Ledger device: ".concat(t," (0x").concat(s,")"),this.stack=new Error().stack,this.statusCode=r,this.statusText=e}Br.prototype=new Error;var ut=globalThis&&globalThis.__awaiter||function(r,e,t,s){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(E){try{g(s.next(E))}catch(v){l(v)}}function p(E){try{g(s.throw(E))}catch(v){l(v)}}function g(E){E.done?o(E.value):a(E.value).then(u,p)}g((s=s.apply(r,e||[])).next())})},lt=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,a,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,a&&(o=g[0]&2?a.return:g[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,g[1])).done)return o;switch(a=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){t.label=g[1];break}if(g[0]===6&&t.label<o[1]){t.label=o[1],o=g;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(g);break}o[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(E){g=[6,E],a=0}finally{s=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},dn=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(l)throw l.error}}return o},gn=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,o;s<a;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return r.concat(o||Array.prototype.slice.call(e))},En=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yn=function(){function r(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new St.exports,this.send=function(t,s,a,o,l,u){return l===void 0&&(l=Buffer.alloc(0)),u===void 0&&(u=[It.OK]),ut(e,void 0,void 0,function(){var p,g;return lt(this,function(E){switch(E.label){case 0:if(l.length>=256)throw new fe("data.length exceed 256 bytes limit. Got: "+l.length,"DataLengthTooBig");return[4,this.exchange(Buffer.concat([Buffer.from([t,s,a,o]),Buffer.from([l.length]),l]))];case 1:if(p=E.sent(),g=p.readUInt16BE(p.length-2),!u.some(function(v){return v===g}))throw new Br(g);return[2,p]}})})},this.exchangeAtomicImpl=function(t){return ut(e,void 0,void 0,function(){var s,a,o,l,u,p=this;return lt(this,function(g){switch(g.label){case 0:if(this.exchangeBusyPromise)throw new hn("An action was already pending on the Ledger device. Please deny or reconnect.");a=new Promise(function(E){s=E}),this.exchangeBusyPromise=a,o=!1,l=setTimeout(function(){o=!0,p.emit("unresponsive")},this.unresponsiveTimeout),g.label=1;case 1:return g.trys.push([1,,3,4]),[4,t()];case 2:return u=g.sent(),o&&this.emit("responsive"),[2,u];case 3:return clearTimeout(l),s&&s(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return r.prototype.exchange=function(e){throw new Error("exchange not implemented")},r.prototype.setScrambleKey=function(e){},r.prototype.close=function(){return Promise.resolve()},r.prototype.on=function(e,t){this._events.on(e,t)},r.prototype.off=function(e,t){this._events.removeListener(e,t)},r.prototype.emit=function(e){for(var t,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];(t=this._events).emit.apply(t,gn([e],dn(s),!1))},r.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},r.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},r.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},r.create=function(e,t){var s=this;return e===void 0&&(e=3e3),new Promise(function(a,o){var l=!1,u=s.listen({next:function(g){l=!0,u&&u.unsubscribe(),p&&clearTimeout(p),s.open(g.descriptor,e).then(a,o)},error:function(g){p&&clearTimeout(p),o(g)},complete:function(){p&&clearTimeout(p),l||o(new fe(s.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),p=t?setTimeout(function(){u.unsubscribe(),o(new fe(s.ErrorMessage_ListenTimeout,"ListenTimeout"))},t):null})},r.prototype.decorateAppAPIMethods=function(e,t,s){var a,o;try{for(var l=En(t),u=l.next();!u.done;u=l.next()){var p=u.value;e[p]=this.decorateAppAPIMethod(p,e[p],e,s)}}catch(g){a={error:g}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}},r.prototype.decorateAppAPIMethod=function(e,t,s,a){var o=this;return function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return ut(o,void 0,void 0,function(){var p;return lt(this,function(g){switch(g.label){case 0:if(p=this._appAPIlock,p)return[2,Promise.reject(new fe("Ledger Device is busy (lock "+p+")","TransportLocked"))];g.label=1;case 1:return g.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(a),[4,t.apply(s,l)];case 2:return[2,g.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},r.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",r.ErrorMessage_NoDeviceFound="No Ledger device found",r}(),Xt=5;function mn(r){var e=Buffer.alloc(2);return e.writeUInt16BE(r,0),e}var vn={data:Buffer.alloc(0),dataLength:0,sequence:0},wn=function(r,e){return{makeBlocks:function(t){var s=Buffer.concat([mn(t.length),t]),a=e-5,o=Math.ceil(s.length/a);s=Buffer.concat([s,Buffer.alloc(o*a-s.length+1).fill(0)]);for(var l=[],u=0;u<o;u++){var p=Buffer.alloc(5);p.writeUInt16BE(r,0),p.writeUInt8(Xt,2),p.writeUInt16BE(u,3);var g=s.slice(u*a,(u+1)*a);l.push(Buffer.concat([p,g]))}return l},reduceResponse:function(t,s){var a=t||vn,o=a.data,l=a.dataLength,u=a.sequence;if(s.readUInt16BE(0)!==r)throw new fe("Invalid channel","InvalidChannel");if(s.readUInt8(2)!==Xt)throw new fe("Invalid tag","InvalidTag");if(s.readUInt16BE(3)!==u)throw new fe("Invalid sequence","InvalidSequence");t||(l=s.readUInt16BE(5)),u++;var p=s.slice(t?5:7);return o=Buffer.concat([o,p]),o.length>l&&(o=o.slice(0,l)),{data:o,dataLength:l,sequence:u}},getReducedResult:function(t){if(t&&t.dataLength===t.data.length)return t.data}}},he={exports:{}};const In="2.0.0",xn=256,Tn=Number.MAX_SAFE_INTEGER||9007199254740991,An=16;var We={SEMVER_SPEC_VERSION:In,MAX_LENGTH:xn,MAX_SAFE_INTEGER:Tn,MAX_SAFE_COMPONENT_LENGTH:An};const Rn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var ze=Rn;(function(r,e){const{MAX_SAFE_COMPONENT_LENGTH:t}=We,s=ze;e=r.exports={};const a=e.re=[],o=e.src=[],l=e.t={};let u=0;const p=(g,E,v)=>{const R=u++;s(g,R,E),l[g]=R,o[R]=E,a[R]=new RegExp(E,v?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","[0-9]+"),p("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),p("MAINVERSION",`(${o[l.NUMERICIDENTIFIER]})\\.(${o[l.NUMERICIDENTIFIER]})\\.(${o[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${o[l.NUMERICIDENTIFIERLOOSE]})\\.(${o[l.NUMERICIDENTIFIERLOOSE]})\\.(${o[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${o[l.NUMERICIDENTIFIER]}|${o[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${o[l.NUMERICIDENTIFIERLOOSE]}|${o[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${o[l.PRERELEASEIDENTIFIER]}(?:\\.${o[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${o[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER","[0-9A-Za-z-]+"),p("BUILD",`(?:\\+(${o[l.BUILDIDENTIFIER]}(?:\\.${o[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${o[l.MAINVERSION]}${o[l.PRERELEASE]}?${o[l.BUILD]}?`),p("FULL",`^${o[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${o[l.MAINVERSIONLOOSE]}${o[l.PRERELEASELOOSE]}?${o[l.BUILD]}?`),p("LOOSE",`^${o[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${o[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${o[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${o[l.XRANGEIDENTIFIER]})(?:\\.(${o[l.XRANGEIDENTIFIER]})(?:\\.(${o[l.XRANGEIDENTIFIER]})(?:${o[l.PRERELEASE]})?${o[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${o[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[l.XRANGEIDENTIFIERLOOSE]})(?:${o[l.PRERELEASELOOSE]})?${o[l.BUILD]}?)?)?`),p("XRANGE",`^${o[l.GTLT]}\\s*${o[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${o[l.GTLT]}\\s*${o[l.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),p("COERCERTL",o[l.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${o[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${o[l.LONETILDE]}${o[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${o[l.LONETILDE]}${o[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${o[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${o[l.LONECARET]}${o[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${o[l.LONECARET]}${o[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${o[l.GTLT]}\\s*(${o[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${o[l.GTLT]}\\s*(${o[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${o[l.GTLT]}\\s*(${o[l.LOOSEPLAIN]}|${o[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${o[l.XRANGEPLAIN]})\\s+-\\s+(${o[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${o[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(he,he.exports);const Sn=["includePrerelease","loose","rtl"],$n=r=>r?typeof r!="object"?{loose:!0}:Sn.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};var Ke=$n;const qt=/^[0-9]+$/,_r=(r,e)=>{const t=qt.test(r),s=qt.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},Ln=(r,e)=>_r(e,r);var Or={compareIdentifiers:_r,rcompareIdentifiers:Ln};const Ce=ze,{MAX_LENGTH:Vt,MAX_SAFE_INTEGER:Ue}=We,{re:Ht,t:Wt}=he.exports,Nn=Ke,{compareIdentifiers:we}=Or;class Y{constructor(e,t){if(t=Nn(t),e instanceof Y){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Vt)throw new TypeError(`version is longer than ${Vt} characters`);Ce("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?Ht[Wt.LOOSE]:Ht[Wt.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Ue||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ue||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ue||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){const o=+a;if(o>=0&&o<Ue)return o}return a}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ce("SemVer.compare",this.version,this.options,e),!(e instanceof Y)){if(typeof e=="string"&&e===this.version)return 0;e=new Y(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Y||(e=new Y(e,this.options)),we(this.major,e.major)||we(this.minor,e.minor)||we(this.patch,e.patch)}comparePre(e){if(e instanceof Y||(e=new Y(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],a=e.prerelease[t];if(Ce("prerelease compare",t,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return we(s,a)}while(++t)}compareBuild(e){e instanceof Y||(e=new Y(e,this.options));let t=0;do{const s=this.build[t],a=e.build[t];if(Ce("prerelease compare",t,s,a),s===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(s===void 0)return-1;if(s===a)continue;return we(s,a)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}t&&(we(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var H=Y;const{MAX_LENGTH:Bn}=We,{re:zt,t:Kt}=he.exports,Yt=H,_n=Ke,On=(r,e)=>{if(e=_n(e),r instanceof Yt)return r;if(typeof r!="string"||r.length>Bn||!(e.loose?zt[Kt.LOOSE]:zt[Kt.FULL]).test(r))return null;try{return new Yt(r,e)}catch{return null}};var Ae=On;const bn=Ae,Cn=(r,e)=>{const t=bn(r,e);return t?t.version:null};var Un=Cn;const Fn=Ae,Dn=(r,e)=>{const t=Fn(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};var Pn=Dn;const Zt=H,Mn=(r,e,t,s)=>{typeof t=="string"&&(s=t,t=void 0);try{return new Zt(r instanceof Zt?r.version:r,t).inc(e,s).version}catch{return null}};var Gn=Mn;const Jt=H,jn=(r,e,t)=>new Jt(r,t).compare(new Jt(e,t));var J=jn;const kn=J,Xn=(r,e,t)=>kn(r,e,t)===0;var $t=Xn;const Qt=Ae,qn=$t,Vn=(r,e)=>{if(qn(r,e))return null;{const t=Qt(r),s=Qt(e),a=t.prerelease.length||s.prerelease.length,o=a?"pre":"",l=a?"prerelease":"";for(const u in t)if((u==="major"||u==="minor"||u==="patch")&&t[u]!==s[u])return o+u;return l}};var Hn=Vn;const Wn=H,zn=(r,e)=>new Wn(r,e).major;var Kn=zn;const Yn=H,Zn=(r,e)=>new Yn(r,e).minor;var Jn=Zn;const Qn=H,ei=(r,e)=>new Qn(r,e).patch;var ti=ei;const ri=Ae,ni=(r,e)=>{const t=ri(r,e);return t&&t.prerelease.length?t.prerelease:null};var ii=ni;const si=J,oi=(r,e,t)=>si(e,r,t);var ai=oi;const ci=J,ui=(r,e)=>ci(r,e,!0);var li=ui;const er=H,fi=(r,e,t)=>{const s=new er(r,t),a=new er(e,t);return s.compare(a)||s.compareBuild(a)};var Lt=fi;const hi=Lt,pi=(r,e)=>r.sort((t,s)=>hi(t,s,e));var di=pi;const gi=Lt,Ei=(r,e)=>r.sort((t,s)=>gi(s,t,e));var yi=Ei;const mi=J,vi=(r,e,t)=>mi(r,e,t)>0;var Ye=vi;const wi=J,Ii=(r,e,t)=>wi(r,e,t)<0;var Nt=Ii;const xi=J,Ti=(r,e,t)=>xi(r,e,t)!==0;var br=Ti;const Ai=J,Ri=(r,e,t)=>Ai(r,e,t)>=0;var Bt=Ri;const Si=J,$i=(r,e,t)=>Si(r,e,t)<=0;var _t=$i;const Li=$t,Ni=br,Bi=Ye,_i=Bt,Oi=Nt,bi=_t,Ci=(r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Li(r,t,s);case"!=":return Ni(r,t,s);case">":return Bi(r,t,s);case">=":return _i(r,t,s);case"<":return Oi(r,t,s);case"<=":return bi(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var Cr=Ci;const Ui=H,Fi=Ae,{re:Fe,t:De}=he.exports,Di=(r,e)=>{if(r instanceof Ui)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Fe[De.COERCE]);else{let s;for(;(s=Fe[De.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||s.index+s[0].length!==t.index+t[0].length)&&(t=s),Fe[De.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;Fe[De.COERCERTL].lastIndex=-1}return t===null?null:Fi(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};var Pi=Di,ft,tr;function Mi(){return tr||(tr=1,ft=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),ft}var Gi=b;b.Node=Ee;b.create=b;function b(r){var e=this;if(e instanceof b||(e=new b),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(a){e.push(a)});else if(arguments.length>0)for(var t=0,s=arguments.length;t<s;t++)e.push(arguments[t]);return e}b.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};b.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};b.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};b.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)ki(this,arguments[r]);return this.length};b.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)Xi(this,arguments[r]);return this.length};b.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};b.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};b.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,s=0;t!==null;s++)r.call(e,t.value,s,this),t=t.next};b.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,s=this.length-1;t!==null;s--)r.call(e,t.value,s,this),t=t.prev};b.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};b.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};b.prototype.map=function(r,e){e=e||this;for(var t=new b,s=this.head;s!==null;)t.push(r.call(e,s.value,this)),s=s.next;return t};b.prototype.mapReverse=function(r,e){e=e||this;for(var t=new b,s=this.tail;s!==null;)t.push(r.call(e,s.value,this)),s=s.prev;return t};b.prototype.reduce=function(r,e){var t,s=this.head;if(arguments.length>1)t=e;else if(this.head)s=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=0;s!==null;a++)t=r(t,s.value,a),s=s.next;return t};b.prototype.reduceReverse=function(r,e){var t,s=this.tail;if(arguments.length>1)t=e;else if(this.tail)s=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;s!==null;a--)t=r(t,s.value,a),s=s.prev;return t};b.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};b.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};b.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new b;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=0,a=this.head;a!==null&&s<r;s++)a=a.next;for(;a!==null&&s<e;s++,a=a.next)t.push(a.value);return t};b.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new b;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=this.length,a=this.tail;a!==null&&s>e;s--)a=a.prev;for(;a!==null&&s>r;s--,a=a.prev)t.push(a.value);return t};b.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var s=0,a=this.head;a!==null&&s<r;s++)a=a.next;for(var o=[],s=0;a&&s<e;s++)o.push(a.value),a=this.removeNode(a);a===null&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var s=0;s<t.length;s++)a=ji(this,a,t[s]);return o};b.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var s=t.prev;t.prev=t.next,t.next=s}return this.head=e,this.tail=r,this};function ji(r,e,t){var s=e===r.head?new Ee(t,null,e,r):new Ee(t,e,e.next,r);return s.next===null&&(r.tail=s),s.prev===null&&(r.head=s),r.length++,s}function ki(r,e){r.tail=new Ee(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function Xi(r,e){r.head=new Ee(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Ee(r,e,t,s){if(!(this instanceof Ee))return new Ee(r,e,t,s);this.list=s,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Mi()(b)}catch{}const qi=Gi,de=Symbol("max"),se=Symbol("length"),Ie=Symbol("lengthCalculator"),Ne=Symbol("allowStale"),ge=Symbol("maxAge"),ie=Symbol("dispose"),rr=Symbol("noDisposeOnSet"),k=Symbol("lruList"),Z=Symbol("cache"),Ur=Symbol("updateAgeOnGet"),ht=()=>1;class Vi{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[de]=e.max||1/0;const t=e.length||ht;if(this[Ie]=typeof t!="function"?ht:t,this[Ne]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ge]=e.maxAge||0,this[ie]=e.dispose,this[rr]=e.noDisposeOnSet||!1,this[Ur]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[de]=e||1/0,Se(this)}get max(){return this[de]}set allowStale(e){this[Ne]=!!e}get allowStale(){return this[Ne]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ge]=e,Se(this)}get maxAge(){return this[ge]}set lengthCalculator(e){typeof e!="function"&&(e=ht),e!==this[Ie]&&(this[Ie]=e,this[se]=0,this[k].forEach(t=>{t.length=this[Ie](t.value,t.key),this[se]+=t.length})),Se(this)}get lengthCalculator(){return this[Ie]}get length(){return this[se]}get itemCount(){return this[k].length}rforEach(e,t){t=t||this;for(let s=this[k].tail;s!==null;){const a=s.prev;nr(this,e,s,t),s=a}}forEach(e,t){t=t||this;for(let s=this[k].head;s!==null;){const a=s.next;nr(this,e,s,t),s=a}}keys(){return this[k].toArray().map(e=>e.key)}values(){return this[k].toArray().map(e=>e.value)}reset(){this[ie]&&this[k]&&this[k].length&&this[k].forEach(e=>this[ie](e.key,e.value)),this[Z]=new Map,this[k]=new qi,this[se]=0}dump(){return this[k].map(e=>Xe(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[k]}set(e,t,s){if(s=s||this[ge],s&&typeof s!="number")throw new TypeError("maxAge must be a number");const a=s?Date.now():0,o=this[Ie](t,e);if(this[Z].has(e)){if(o>this[de])return Te(this,this[Z].get(e)),!1;const p=this[Z].get(e).value;return this[ie]&&(this[rr]||this[ie](e,p.value)),p.now=a,p.maxAge=s,p.value=t,this[se]+=o-p.length,p.length=o,this.get(e),Se(this),!0}const l=new Hi(e,t,o,a,s);return l.length>this[de]?(this[ie]&&this[ie](e,t),!1):(this[se]+=l.length,this[k].unshift(l),this[Z].set(e,this[k].head),Se(this),!0)}has(e){if(!this[Z].has(e))return!1;const t=this[Z].get(e).value;return!Xe(this,t)}get(e){return pt(this,e,!0)}peek(e){return pt(this,e,!1)}pop(){const e=this[k].tail;return e?(Te(this,e),e.value):null}del(e){Te(this,this[Z].get(e))}load(e){this.reset();const t=Date.now();for(let s=e.length-1;s>=0;s--){const a=e[s],o=a.e||0;if(o===0)this.set(a.k,a.v);else{const l=o-t;l>0&&this.set(a.k,a.v,l)}}}prune(){this[Z].forEach((e,t)=>pt(this,t,!1))}}const pt=(r,e,t)=>{const s=r[Z].get(e);if(s){const a=s.value;if(Xe(r,a)){if(Te(r,s),!r[Ne])return}else t&&(r[Ur]&&(s.value.now=Date.now()),r[k].unshiftNode(s));return a.value}},Xe=(r,e)=>{if(!e||!e.maxAge&&!r[ge])return!1;const t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[ge]&&t>r[ge]},Se=r=>{if(r[se]>r[de])for(let e=r[k].tail;r[se]>r[de]&&e!==null;){const t=e.prev;Te(r,e),e=t}},Te=(r,e)=>{if(e){const t=e.value;r[ie]&&r[ie](t.key,t.value),r[se]-=t.length,r[Z].delete(t.key),r[k].removeNode(e)}};class Hi{constructor(e,t,s,a,o){this.key=e,this.value=t,this.length=s,this.now=a,this.maxAge=o||0}}const nr=(r,e,t,s)=>{let a=t.value;Xe(r,a)&&(Te(r,t),r[Ne]||(a=void 0)),a&&e.call(s,a.value,a.key,r)};var Wi=Vi,dt,ir;function Q(){if(ir)return dt;ir=1;class r{constructor(w,$){if($=s($),w instanceof r)return w.loose===!!$.loose&&w.includePrerelease===!!$.includePrerelease?w:new r(w.raw,$);if(w instanceof a)return this.raw=w.value,this.set=[[w]],this.format(),this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=w,this.set=w.split("||").map(A=>this.parseRange(A.trim())).filter(A=>A.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${w}`);if(this.set.length>1){const A=this.set[0];if(this.set=this.set.filter(S=>!R(S[0])),this.set.length===0)this.set=[A];else if(this.set.length>1){for(const S of this.set)if(S.length===1&&I(S[0])){this.set=[S];break}}}this.format()}format(){return this.range=this.set.map(w=>w.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(w){w=w.trim();const A=`parseRange:${Object.keys(this.options).join(",")}:${w}`,S=t.get(A);if(S)return S;const T=this.options.loose,L=T?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];w=w.replace(L,rt(this.options.includePrerelease)),o("hyphen replace",w),w=w.replace(u[p.COMPARATORTRIM],g),o("comparator trim",w),w=w.replace(u[p.TILDETRIM],E),w=w.replace(u[p.CARETTRIM],v),w=w.split(/\s+/).join(" ");let C=w.split(" ").map(_=>W(_,this.options)).join(" ").split(/\s+/).map(_=>tt(_,this.options));T&&(C=C.filter(_=>(o("loose invalid filter",_,this.options),!!_.match(u[p.COMPARATORLOOSE])))),o("range list",C);const N=new Map,D=C.map(_=>new a(_,this.options));for(const _ of D){if(R(_))return[_];N.set(_.value,_)}N.size>1&&N.has("")&&N.delete("");const O=[...N.values()];return t.set(A,O),O}intersects(w,$){if(!(w instanceof r))throw new TypeError("a Range is required");return this.set.some(A=>X(A,$)&&w.set.some(S=>X(S,$)&&A.every(T=>S.every(L=>T.intersects(L,$)))))}test(w){if(!w)return!1;if(typeof w=="string")try{w=new l(w,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(nt(this.set[$],w,this.options))return!0;return!1}}dt=r;const e=Wi,t=new e({max:1e3}),s=Ke,a=Ze(),o=ze,l=H,{re:u,t:p,comparatorTrimReplace:g,tildeTrimReplace:E,caretTrimReplace:v}=he.exports,R=x=>x.value==="<0.0.0-0",I=x=>x.value==="",X=(x,w)=>{let $=!0;const A=x.slice();let S=A.pop();for(;$&&A.length;)$=A.every(T=>S.intersects(T,w)),S=A.pop();return $},W=(x,w)=>(o("comp",x,w),x=Be(x,w),o("caret",x),x=z(x,w),o("tildes",x),x=re(x,w),o("xrange",x),x=Oe(x,w),o("stars",x),x),M=x=>!x||x.toLowerCase()==="x"||x==="*",z=(x,w)=>x.trim().split(/\s+/).map($=>Qe($,w)).join(" "),Qe=(x,w)=>{const $=w.loose?u[p.TILDELOOSE]:u[p.TILDE];return x.replace($,(A,S,T,L,C)=>{o("tilde",x,A,S,T,L,C);let N;return M(S)?N="":M(T)?N=`>=${S}.0.0 <${+S+1}.0.0-0`:M(L)?N=`>=${S}.${T}.0 <${S}.${+T+1}.0-0`:C?(o("replaceTilde pr",C),N=`>=${S}.${T}.${L}-${C} <${S}.${+T+1}.0-0`):N=`>=${S}.${T}.${L} <${S}.${+T+1}.0-0`,o("tilde return",N),N})},Be=(x,w)=>x.trim().split(/\s+/).map($=>et($,w)).join(" "),et=(x,w)=>{o("caret",x,w);const $=w.loose?u[p.CARETLOOSE]:u[p.CARET],A=w.includePrerelease?"-0":"";return x.replace($,(S,T,L,C,N)=>{o("caret",x,S,T,L,C,N);let D;return M(T)?D="":M(L)?D=`>=${T}.0.0${A} <${+T+1}.0.0-0`:M(C)?T==="0"?D=`>=${T}.${L}.0${A} <${T}.${+L+1}.0-0`:D=`>=${T}.${L}.0${A} <${+T+1}.0.0-0`:N?(o("replaceCaret pr",N),T==="0"?L==="0"?D=`>=${T}.${L}.${C}-${N} <${T}.${L}.${+C+1}-0`:D=`>=${T}.${L}.${C}-${N} <${T}.${+L+1}.0-0`:D=`>=${T}.${L}.${C}-${N} <${+T+1}.0.0-0`):(o("no pr"),T==="0"?L==="0"?D=`>=${T}.${L}.${C}${A} <${T}.${L}.${+C+1}-0`:D=`>=${T}.${L}.${C}${A} <${T}.${+L+1}.0-0`:D=`>=${T}.${L}.${C} <${+T+1}.0.0-0`),o("caret return",D),D})},re=(x,w)=>(o("replaceXRanges",x,w),x.split(/\s+/).map($=>_e($,w)).join(" ")),_e=(x,w)=>{x=x.trim();const $=w.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return x.replace($,(A,S,T,L,C,N)=>{o("xRange",x,A,S,T,L,C,N);const D=M(T),O=D||M(L),_=O||M(C),ce=_;return S==="="&&ce&&(S=""),N=w.includePrerelease?"-0":"",D?S===">"||S==="<"?A="<0.0.0-0":A="*":S&&ce?(O&&(L=0),C=0,S===">"?(S=">=",O?(T=+T+1,L=0,C=0):(L=+L+1,C=0)):S==="<="&&(S="<",O?T=+T+1:L=+L+1),S==="<"&&(N="-0"),A=`${S+T}.${L}.${C}${N}`):O?A=`>=${T}.0.0${N} <${+T+1}.0.0-0`:_&&(A=`>=${T}.${L}.0${N} <${T}.${+L+1}.0-0`),o("xRange return",A),A})},Oe=(x,w)=>(o("replaceStars",x,w),x.trim().replace(u[p.STAR],"")),tt=(x,w)=>(o("replaceGTE0",x,w),x.trim().replace(u[w.includePrerelease?p.GTE0PRE:p.GTE0],"")),rt=x=>(w,$,A,S,T,L,C,N,D,O,_,ce,it)=>(M(A)?$="":M(S)?$=`>=${A}.0.0${x?"-0":""}`:M(T)?$=`>=${A}.${S}.0${x?"-0":""}`:L?$=`>=${$}`:$=`>=${$}${x?"-0":""}`,M(D)?N="":M(O)?N=`<${+D+1}.0.0-0`:M(_)?N=`<${D}.${+O+1}.0-0`:ce?N=`<=${D}.${O}.${_}-${ce}`:x?N=`<${D}.${O}.${+_+1}-0`:N=`<=${N}`,`${$} ${N}`.trim()),nt=(x,w,$)=>{for(let A=0;A<x.length;A++)if(!x[A].test(w))return!1;if(w.prerelease.length&&!$.includePrerelease){for(let A=0;A<x.length;A++)if(o(x[A].semver),x[A].semver!==a.ANY&&x[A].semver.prerelease.length>0){const S=x[A].semver;if(S.major===w.major&&S.minor===w.minor&&S.patch===w.patch)return!0}return!1}return!0};return dt}var gt,sr;function Ze(){if(sr)return gt;sr=1;const r=Symbol("SemVer ANY");class e{static get ANY(){return r}constructor(E,v){if(v=t(v),E instanceof e){if(E.loose===!!v.loose)return E;E=E.value}l("comparator",E,v),this.options=v,this.loose=!!v.loose,this.parse(E),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(E){const v=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],R=E.match(v);if(!R)throw new TypeError(`Invalid comparator: ${E}`);this.operator=R[1]!==void 0?R[1]:"",this.operator==="="&&(this.operator=""),R[2]?this.semver=new u(R[2],this.options.loose):this.semver=r}toString(){return this.value}test(E){if(l("Comparator.test",E,this.options.loose),this.semver===r||E===r)return!0;if(typeof E=="string")try{E=new u(E,this.options)}catch{return!1}return o(E,this.operator,this.semver,this.options)}intersects(E,v){if(!(E instanceof e))throw new TypeError("a Comparator is required");if((!v||typeof v!="object")&&(v={loose:!!v,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new p(E.value,v).test(this.value);if(E.operator==="")return E.value===""?!0:new p(this.value,v).test(E.semver);const R=(this.operator===">="||this.operator===">")&&(E.operator===">="||E.operator===">"),I=(this.operator==="<="||this.operator==="<")&&(E.operator==="<="||E.operator==="<"),X=this.semver.version===E.semver.version,W=(this.operator===">="||this.operator==="<=")&&(E.operator===">="||E.operator==="<="),M=o(this.semver,"<",E.semver,v)&&(this.operator===">="||this.operator===">")&&(E.operator==="<="||E.operator==="<"),z=o(this.semver,">",E.semver,v)&&(this.operator==="<="||this.operator==="<")&&(E.operator===">="||E.operator===">");return R||I||X&&W||M||z}}gt=e;const t=Ke,{re:s,t:a}=he.exports,o=Cr,l=ze,u=H,p=Q();return gt}const zi=Q(),Ki=(r,e,t)=>{try{e=new zi(e,t)}catch{return!1}return e.test(r)};var Je=Ki;const Yi=Q(),Zi=(r,e)=>new Yi(r,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));var Ji=Zi;const Qi=H,es=Q(),ts=(r,e,t)=>{let s=null,a=null,o=null;try{o=new es(e,t)}catch{return null}return r.forEach(l=>{o.test(l)&&(!s||a.compare(l)===-1)&&(s=l,a=new Qi(s,t))}),s};var rs=ts;const ns=H,is=Q(),ss=(r,e,t)=>{let s=null,a=null,o=null;try{o=new is(e,t)}catch{return null}return r.forEach(l=>{o.test(l)&&(!s||a.compare(l)===1)&&(s=l,a=new ns(s,t))}),s};var os=ss;const Et=H,as=Q(),or=Ye,cs=(r,e)=>{r=new as(r,e);let t=new Et("0.0.0");if(r.test(t)||(t=new Et("0.0.0-0"),r.test(t)))return t;t=null;for(let s=0;s<r.set.length;++s){const a=r.set[s];let o=null;a.forEach(l=>{const u=new Et(l.semver.version);switch(l.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||or(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),o&&(!t||or(t,o))&&(t=o)}return t&&r.test(t)?t:null};var us=cs;const ls=Q(),fs=(r,e)=>{try{return new ls(r,e).range||"*"}catch{return null}};var hs=fs;const ps=H,Fr=Ze(),{ANY:ds}=Fr,gs=Q(),Es=Je,ar=Ye,cr=Nt,ys=_t,ms=Bt,vs=(r,e,t,s)=>{r=new ps(r,s),e=new gs(e,s);let a,o,l,u,p;switch(t){case">":a=ar,o=ys,l=cr,u=">",p=">=";break;case"<":a=cr,o=ms,l=ar,u="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Es(r,e,s))return!1;for(let g=0;g<e.set.length;++g){const E=e.set[g];let v=null,R=null;if(E.forEach(I=>{I.semver===ds&&(I=new Fr(">=0.0.0")),v=v||I,R=R||I,a(I.semver,v.semver,s)?v=I:l(I.semver,R.semver,s)&&(R=I)}),v.operator===u||v.operator===p||(!R.operator||R.operator===u)&&o(r,R.semver))return!1;if(R.operator===p&&l(r,R.semver))return!1}return!0};var Ot=vs;const ws=Ot,Is=(r,e,t)=>ws(r,e,">",t);var xs=Is;const Ts=Ot,As=(r,e,t)=>Ts(r,e,"<",t);var Rs=As;const ur=Q(),Ss=(r,e,t)=>(r=new ur(r,t),e=new ur(e,t),r.intersects(e));var $s=Ss;const Ls=Je,Ns=J;var Bs=(r,e,t)=>{const s=[];let a=null,o=null;const l=r.sort((E,v)=>Ns(E,v,t));for(const E of l)Ls(E,e,t)?(o=E,a||(a=E)):(o&&s.push([a,o]),o=null,a=null);a&&s.push([a,null]);const u=[];for(const[E,v]of s)E===v?u.push(E):!v&&E===l[0]?u.push("*"):v?E===l[0]?u.push(`<=${v}`):u.push(`${E} - ${v}`):u.push(`>=${E}`);const p=u.join(" || "),g=typeof e.raw=="string"?e.raw:String(e);return p.length<g.length?p:e};const lr=Q(),ke=Ze(),{ANY:yt}=ke,$e=Je,bt=J,_s=(r,e,t={})=>{if(r===e)return!0;r=new lr(r,t),e=new lr(e,t);let s=!1;e:for(const a of r.set){for(const o of e.set){const l=Os(a,o,t);if(s=s||l!==null,l)continue e}if(s)return!1}return!0},Os=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===yt){if(e.length===1&&e[0].semver===yt)return!0;t.includePrerelease?r=[new ke(">=0.0.0-0")]:r=[new ke(">=0.0.0")]}if(e.length===1&&e[0].semver===yt){if(t.includePrerelease)return!0;e=[new ke(">=0.0.0")]}const s=new Set;let a,o;for(const I of r)I.operator===">"||I.operator===">="?a=fr(a,I,t):I.operator==="<"||I.operator==="<="?o=hr(o,I,t):s.add(I.semver);if(s.size>1)return null;let l;if(a&&o){if(l=bt(a.semver,o.semver,t),l>0)return null;if(l===0&&(a.operator!==">="||o.operator!=="<="))return null}for(const I of s){if(a&&!$e(I,String(a),t)||o&&!$e(I,String(o),t))return null;for(const X of e)if(!$e(I,String(X),t))return!1;return!0}let u,p,g,E,v=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,R=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1;v&&v.prerelease.length===1&&o.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const I of e){if(E=E||I.operator===">"||I.operator===">=",g=g||I.operator==="<"||I.operator==="<=",a){if(R&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===R.major&&I.semver.minor===R.minor&&I.semver.patch===R.patch&&(R=!1),I.operator===">"||I.operator===">="){if(u=fr(a,I,t),u===I&&u!==a)return!1}else if(a.operator===">="&&!$e(a.semver,String(I),t))return!1}if(o){if(v&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===v.major&&I.semver.minor===v.minor&&I.semver.patch===v.patch&&(v=!1),I.operator==="<"||I.operator==="<="){if(p=hr(o,I,t),p===I&&p!==o)return!1}else if(o.operator==="<="&&!$e(o.semver,String(I),t))return!1}if(!I.operator&&(o||a)&&l!==0)return!1}return!(a&&g&&!o&&l!==0||o&&E&&!a&&l!==0||R||v)},fr=(r,e,t)=>{if(!r)return e;const s=bt(r.semver,e.semver,t);return s>0?r:s<0||e.operator===">"&&r.operator===">="?e:r},hr=(r,e,t)=>{if(!r)return e;const s=bt(r.semver,e.semver,t);return s<0?r:s>0||e.operator==="<"&&r.operator==="<="?e:r};var bs=_s;const mt=he.exports,Cs=We,Us=H,pr=Or,Fs=Ae,Ds=Un,Ps=Pn,Ms=Gn,Gs=Hn,js=Kn,ks=Jn,Xs=ti,qs=ii,Vs=J,Hs=ai,Ws=li,zs=Lt,Ks=di,Ys=yi,Zs=Ye,Js=Nt,Qs=$t,eo=br,to=Bt,ro=_t,no=Cr,io=Pi,so=Ze(),oo=Q(),ao=Je,co=Ji,uo=rs,lo=os,fo=us,ho=hs,po=Ot,go=xs,Eo=Rs,yo=$s,mo=Bs,vo=bs;var dr={parse:Fs,valid:Ds,clean:Ps,inc:Ms,diff:Gs,major:js,minor:ks,patch:Xs,prerelease:qs,compare:Vs,rcompare:Hs,compareLoose:Ws,compareBuild:zs,sort:Ks,rsort:Ys,gt:Zs,lt:Js,eq:Qs,neq:eo,gte:to,lte:ro,cmp:no,coerce:io,Comparator:so,Range:oo,satisfies:ao,toComparators:co,maxSatisfying:uo,minSatisfying:lo,minVersion:fo,validRange:ho,outside:po,gtr:go,ltr:Eo,intersects:yo,simplifyRange:mo,subset:vo,SemVer:Us,re:mt.re,src:mt.src,tokens:mt.t,SEMVER_SPEC_VERSION:Cs.SEMVER_SPEC_VERSION,compareIdentifiers:pr.compareIdentifiers,rcompareIdentifiers:pr.rcompareIdentifiers},xt=globalThis&&globalThis.__assign||function(){return xt=Object.assign||function(r){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},xt.apply(this,arguments)},pe,q;(function(r){r.blue="blue",r.nanoS="nanoS",r.nanoSP="nanoSP",r.nanoX="nanoX",r.nanoFTS="nanoFTS"})(q||(q={}));var Tt=(pe={},pe[q.blue]={id:q.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(r){return 4*1024}},pe[q.nanoS]={id:q.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(r){var e;return dr.lt((e=dr.coerce(r))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},pe[q.nanoSP]={id:q.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(r){return 32}},pe[q.nanoX]={id:q.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(r){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},pe[q.nanoFTS]={id:q.nanoFTS,productName:"Ledger\xA0Nano\xA0FTS",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(r){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},pe);q.blue,q.nanoS,q.nanoSP,q.nanoX,q.nanoFTS;var gr=Object.values(Tt),Dr=11415,Er=function(r){var e=gr.find(function(a){return a.legacyUsbProductId===r});if(e)return e;var t=r>>8,s=gr.find(function(a){return a.productIdMM===t});return s},wo=[],yr={};for(var Io in Tt){var mr=Tt[Io],vt=mr.bluetoothSpec;if(vt)for(var wt=0;wt<vt.length;wt++){var Pe=vt[wt];wo.push(Pe.serviceUuid),yr[Pe.serviceUuid]=yr[Pe.serviceUuid.replace(/-/g,"")]=xt({deviceModel:mr},Pe)}}var xo=0,le=[],vr=function(r,e,t){var s={type:r,id:String(++xo),date:new Date};e&&(s.message=e),t&&(s.data=t),Ao(s)},To=function(r){return le.push(r),function(){var e=le.indexOf(r);e!==-1&&(le[e]=le[le.length-1],le.pop())}};function Ao(r){for(var e=0;e<le.length;e++)try{le[e](r)}catch(t){console.error(t)}}typeof window<"u"&&(window.__ledgerLogsListen=To);var Ro=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}(),oe=globalThis&&globalThis.__awaiter||function(r,e,t,s){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(E){try{g(s.next(E))}catch(v){l(v)}}function p(E){try{g(s.throw(E))}catch(v){l(v)}}function g(E){E.done?o(E.value):a(E.value).then(u,p)}g((s=s.apply(r,e||[])).next())})},ae=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,a,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,a&&(o=g[0]&2?a.return:g[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,g[1])).done)return o;switch(a=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){t.label=g[1];break}if(g[0]===6&&t.label<o[1]){t.label=o[1],o=g;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(g);break}o[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(E){g=[6,E],a=0}finally{s=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},So=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(l)throw l.error}}return o},$o=[{vendorId:Dr}],Lo=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},qe=function(){var r=navigator.hid;if(!r)throw new fe("navigator.hid is not supported","HIDNotSupported");return r};function Pr(){return oe(this,void 0,void 0,function(){var r;return ae(this,function(e){switch(e.label){case 0:return[4,qe().requestDevice({filters:$o})];case 1:return r=e.sent(),Array.isArray(r)?[2,r]:[2,[r]]}})})}function At(){return oe(this,void 0,void 0,function(){var r;return ae(this,function(e){switch(e.label){case 0:return[4,qe().getDevices()];case 1:return r=e.sent(),[2,r.filter(function(t){return t.vendorId===Dr})]}})})}function No(){return oe(this,void 0,void 0,function(){var r,e;return ae(this,function(t){switch(t.label){case 0:return[4,At()];case 1:return r=t.sent(),r.length>0?[2,r[0]]:[4,Pr()];case 2:return e=t.sent(),[2,e[0]]}})})}var Bo=function(r){Ro(e,r);function e(t){var s=r.call(this)||this;return s.channel=Math.floor(Math.random()*65535),s.packetSize=64,s.inputs=[],s.read=function(){return s.inputs.length?Promise.resolve(s.inputs.shift()):new Promise(function(a){s.inputCallback=a})},s.onInputReport=function(a){var o=Buffer.from(a.data.buffer);s.inputCallback?(s.inputCallback(o),s.inputCallback=null):s.inputs.push(o)},s._disconnectEmitted=!1,s._emitDisconnect=function(a){s._disconnectEmitted||(s._disconnectEmitted=!0,s.emit("disconnect",a))},s.exchange=function(a){return oe(s,void 0,void 0,function(){var o,l=this;return ae(this,function(u){switch(u.label){case 0:return[4,this.exchangeAtomicImpl(function(){return oe(l,void 0,void 0,function(){var p,g,E,v,R,I,X,W,M;return ae(this,function(z){switch(z.label){case 0:p=this,g=p.channel,E=p.packetSize,vr("apdu","=> "+a.toString("hex")),v=wn(g,E),R=v.makeBlocks(a),I=0,z.label=1;case 1:return I<R.length?[4,this.device.sendReport(0,R[I])]:[3,4];case 2:z.sent(),z.label=3;case 3:return I++,[3,1];case 4:return(X=v.getReducedResult(W))?[3,6]:[4,this.read()];case 5:return M=z.sent(),W=v.reduceResponse(W,M),[3,4];case 6:return vr("apdu","<= "+X.toString("hex")),[2,X]}})})}).catch(function(p){throw p&&p.message&&p.message.includes("write")?(l._emitDisconnect(p),new fn(p.message)):p})];case 1:return o=u.sent(),[2,o]}})})},s.device=t,s.deviceModel=typeof t.productId=="number"?Er(t.productId):void 0,t.addEventListener("inputreport",s.onInputReport),s}return e.request=function(){return oe(this,void 0,void 0,function(){var t,s;return ae(this,function(a){switch(a.label){case 0:return[4,Pr()];case 1:return t=So.apply(void 0,[a.sent(),1]),s=t[0],[2,e.open(s)]}})})},e.openConnected=function(){return oe(this,void 0,void 0,function(){var t;return ae(this,function(s){switch(s.label){case 0:return[4,At()];case 1:return t=s.sent(),t.length===0?[2,null]:[2,e.open(t[0])]}})})},e.open=function(t){return oe(this,void 0,void 0,function(){var s,a;return ae(this,function(o){switch(o.label){case 0:return[4,t.open()];case 1:return o.sent(),s=new e(t),a=function(l){t===l.device&&(qe().removeEventListener("disconnect",a),s._emitDisconnect(new ln))},qe().addEventListener("disconnect",a),[2,s]}})})},e.prototype.close=function(){return oe(this,void 0,void 0,function(){return ae(this,function(t){switch(t.label){case 0:return[4,this.exchangeBusyPromise];case 1:return t.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return t.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=Lo,e.list=At,e.listen=function(t){var s=!1;No().then(function(o){if(!o)t.error(new kt("Access denied to use Ledger device"));else if(!s){var l=typeof o.productId=="number"?Er(o.productId):void 0;t.next({type:"add",descriptor:o,deviceModel:l}),t.complete()}},function(o){t.error(new kt(o.message))});function a(){s=!0}return{unsubscribe:a}},e}(yn);const Le=224,_o=1,Oo=2,bo=3,Co=4,Uo=5,ne=36864,Me=27013,wr=27750,Ge=27904;class Fo{constructor(e,t="l0v"){this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getConfiguration","getPublicKey","getAddress","signMessage","signTransaction"],t)}getConfiguration(){return this.transport.send(Le,_o,0,0).then(e=>{if(V.Buffer.from(e.slice(e.length-2)).readUInt16BE(0)===ne)return{configuration:e.slice()};throw new Error("Failed to get configuration")})}getPublicKey(e,t=!1){const s=V.Buffer.alloc(4);return s.writeUInt32BE(e),this.transport.send(Le,Oo,t?1:0,0,s,[ne]).then(a=>{if(V.Buffer.from(a.slice(a.length-2)).readUInt16BE(0)===ne)return{publicKey:a.slice(1,33)};throw new Error("Failed to get public key")})}getAddress(e,t){const s=V.Buffer.alloc(8);return s.writeUInt32BE(e,0),s.writeUInt32BE(t,4),this.transport.send(Le,Co,1,0,s,[ne]).then(a=>{if(V.Buffer.from(a.slice(a.length-2)).readUInt16BE(0)===ne)return{address:a.slice(1,33)};throw new Error("Failed to get address")})}signMessage(e,t){const s=V.Buffer.alloc(4);s.writeUInt32BE(e,0);const a=[s,t],o=V.Buffer.concat(a);return this.transport.send(Le,bo,1,0,o,[ne,Me,wr,Ge]).then(l=>{const u=V.Buffer.from(l.slice(l.length-2)).readUInt16BE(0);if(u===ne)return{signature:l.slice(1,l.length-2)};throw u===Me?new Error("Transaction approval request was rejected"):u===Ge?new Error("Message signing is not supported"):new Error("Message signing not allowed. Have you enabled it in the app settings?")})}signTransaction(e,t,s,a,o){const l=V.Buffer.alloc(12);l.writeUInt32BE(e,0),l.writeUInt32BE(t,4),l.writeUInt32BE(s,8);const u=V.Buffer.alloc(1);u.writeUInt8(parseInt(o.decimals,10),0);let p=o.asset;o.asset.includes("-LP-")?p="LP":o.asset.length>8&&(p=o.asset.substring(0,6)+"..");const g=V.Buffer.from(p,"utf-8"),E=[l,u,V.Buffer.alloc(1,g.length),g,a],v=V.Buffer.concat(E);return this.transport.send(Le,Uo,1,0,v,[ne,Me,wr,Ge]).then(R=>{const I=V.Buffer.from(R.slice(R.length-2)).readUInt16BE(0);if(I===ne)return{signature:R.slice(1,R.length-2)};throw I===Me?new Error("Transaction approval request was rejected"):I===Ge?new Error("Message signing is not supported"):new Error("Message signing not allowed. Have you enabled it in the app settings?")})}}class Do{constructor(){this.addEventListeners()}addEventListeners(){window.addEventListener("message",async e=>{if(e&&e.data&&e.data.target==="LEDGER-IFRAME"){const{action:t,params:s}=e.data,a=`${t}-reply`;switch(t){case"ledger-get-configuration":await this.getConfiguration(a);break;case"ledger-get-public-key":await this.getPublicKey(a,s.account);break;case"ledger-get-address":await this.getAddress(a,s.account,s.contract);break;case"ledger-sign-message":await this.signMessage(a,s.account,s.message);break;case"ledger-sign-transaction":await this.signTransaction(a,s.account,s.originalWallet,s.wallet,s.message,s.context);break;case"ledger-close-bridge":await this.cleanUp(a);break}}},!1)}sendMessageToExtension(e){window.parent.postMessage(e,"*")}async makeApp(){try{this.transport=await Bo.create(),this.app=new Fo(this.transport)}catch(e){throw console.log("LEDGER:::CREATE APP ERROR",e),e}}async cleanUp(e){this.app=null,this.transport&&await this.transport.close(),e&&this.sendMessageToExtension({action:e,success:!0})}async getConfiguration(e){try{await this.makeApp();const t=await this.app.getConfiguration();this.sendMessageToExtension({action:e,success:!0,payload:t})}catch(t){const s=this.ledgerErrToMessage(t);this.sendMessageToExtension({action:e,success:!1,error:new Error(s.toString())})}finally{await this.cleanUp()}}async getPublicKey(e,t){try{await this.makeApp();const s=await this.app.getPublicKey(t);this.sendMessageToExtension({action:e,success:!0,payload:s})}catch(s){const a=this.ledgerErrToMessage(s);this.sendMessageToExtension({action:e,success:!1,error:new Error(a.toString())})}finally{await this.cleanUp()}}async getAddress(e,t,s){try{await this.makeApp();const a=await this.app.getAddress(t,s);this.sendMessageToExtension({action:e,success:!0,payload:a})}catch(a){const o=this.ledgerErrToMessage(a);this.sendMessageToExtension({action:e,success:!1,error:new Error(o.toString())})}finally{await this.cleanUp()}}async signMessage(e,t,s){try{await this.makeApp();const a=await this.app.signMessage(t,s);this.sendMessageToExtension({action:e,success:!0,payload:a})}catch(a){const o=this.ledgerErrToMessage(a);this.sendMessageToExtension({action:e,success:!1,error:new Error(o.toString())})}finally{await this.cleanUp()}}async signTransaction(e,t,s,a,o,l){try{await this.makeApp();const u=await this.app.signTransaction(t,s,a,o,l);this.sendMessageToExtension({action:e,success:!0,payload:u})}catch(u){const p=this.ledgerErrToMessage(u);this.sendMessageToExtension({action:e,success:!1,error:new Error(p.toString())})}finally{await this.cleanUp()}}ledgerErrToMessage(e){const t=u=>String(u.message||u).includes("0x6700"),s=u=>String(u.message||u).includes("0x6804"),a=u=>u.name&&u.name.includes("TransportOpenUserCancelled"),o=u=>u.message&&u.message.includes("Message signing is not supported"),l=u=>u.message&&u.message.includes("Transaction approval request was rejected");return t(e)?"LEDGER_WRONG_APP":s(e)?"LEDGER_LOCKED":l(e)?"TRANSACTION_REJECTED":o(e)?"SIGN_NON_SUPPORTED":a(e)&&e.message&&e.message.includes("Access denied to use Ledger device")?"USER_DENIED":a(e)&&e.message&&e.message.includes("Failed to execute 'requestDevice' on 'HID'")?"USER_CANCELLED":e.toString()}}(()=>{const r=new Do,e=document.getElementById("ledger-pairing-btn");e!=null&&e.addEventListener("click",()=>r.getConfiguration()),console.log(`EVER Wallet <=> Ledger Bridge initialized from ${window.location}!`)})();
